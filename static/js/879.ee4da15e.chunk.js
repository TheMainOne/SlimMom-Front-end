"use strict";(self.webpackChunkslimmom_front_end=self.webpackChunkslimmom_front_end||[]).push([[879],{9879:function(n,t,e){e.r(t),e.d(t,{default:function(){return vn}});var i,r,o,a,d,u,c,s,l,p,m=e(7737),h=e(366),g=e(885),x=e(1413),f=e(5048),b=e(9223),v=e(8558),w=e(2791),y=e(5739),Z=e(6571),k=e(3540),j=e(2697),P=e(2051),D=e.n(P),C=e(6272),_=e(184),I=function(){var n=(0,f.I0)(),t=new Date((0,f.v9)(b.cc)),e=(0,w.useState)(t),i=(0,g.Z)(e,2),r=i[0],o=i[1],a=(0,w.useCallback)((function(n){o(n)}),[]),d=D()(),u=(0,g.Z)(d,2),c=u[0],s=u[1].width<1280,l=!s;return(0,w.useEffect)((function(){var t=(0,v.Z)(r,{representation:"date"});n((0,b.GS)(t))}),[r,n]),(0,_.jsxs)(Z._,{dateAdapter:y.Z,children:[c,l&&(0,_.jsx)(k.$,{label:"Date desktop",inputFormat:"dd.MM.yyyy",value:r,onChange:a,renderInput:function(n){return(0,_.jsx)(C.Z,(0,x.Z)({},n))}}),s&&(0,_.jsx)(j.O,{label:"Date mobile",inputFormat:"dd.MM.yyyy",value:r,onChange:a,renderInput:function(n){return(0,_.jsx)(C.Z,(0,x.Z)({},n))}})]})},M=function(){return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(I,{}),(0,_.jsx)("ul",{})]})},F=(0,w.memo)(M),S=e(1543),A=e(890),z=e(9823),E=e(168),O=e(7939),$=O.ZP.button(i||(i=(0,E.Z)(["\n  display: flex;\n  margin-bottom: ",";\n  padding-top: ",";\n  padding-bottom: ",";\n  padding-right: ",";\n  padding-left: ",";\n  background-color: transparent;\n  border: none;\n  border-radius: 50%;\n  box-shadow: none;\n  outline: none;\n  color: ",";\n  cursor: pointer;\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:active {\n    background-color: ",";\n    color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n  }\n\n  & .css-i4bv87-MuiSvgIcon-root {\n    width: 18px;\n    height: 18px;\n  }\n  @media (min-width: ",") {\n    margin-bottom: ",";\n    & .css-i4bv87-MuiSvgIcon-root {\n      width: 20px;\n      height: 20px;\n    }\n  }\n"])),(function(n){return(0,n.theme.spacing)(1)}),(function(n){return(0,n.theme.spacing)(1)}),(function(n){return(0,n.theme.spacing)(1)}),(function(n){return(0,n.theme.spacing)(1)}),(function(n){return(0,n.theme.spacing)(1)}),(function(n){return n.theme.colors.$grey}),(function(n){return n.theme.colors.$lightGrey}),(function(n){return n.theme.colors.$orange}),(function(n){return n.theme.colors.$white}),(function(n){return n.theme.colors.$lightGrey}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return(0,n.theme.spacing)(2)})),q=function(n){var t=n.type,e=void 0===t?"button":t,i=n.icon,r=n.onClick,o=void 0===r?function(){}:r,a=n.position,d=n.disabled;return(0,_.jsx)($,{type:e,onClick:o,disabled:d,position:a,children:i})},T=e(5473),B=O.ZP.li(r||(r=(0,E.Z)(["\n  display: flex;\n  &:not(:first-child) {\n    padding-top: ",";\n  }\n"])),(function(n){return(0,n.theme.spacing)(4)})),N=O.ZP.div(o||(o=(0,E.Z)(["\n  position: relative;\n  border-bottom: 1px solid ",";\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  &:not(:first-child) {\n    text-align: right;\n  }\n\n  &:first-child {\n    width: 130px;\n    margin-right: 8px;\n\n    @media (min-width: ",") {\n      width: 240px;\n      margin-right: 22px;\n    }\n  }\n\n  &:nth-child(2) {\n    width: 49px;\n    margin-right: 8px;\n    @media (min-width: ",") {\n      width: 106px;\n      margin-right: 46px;\n    }\n\n    @media (min-width: ",") {\n      width: 106px;\n      margin-right: 48px;\n    }\n  }\n\n  &:nth-child(3) {\n    width: 65px;\n    @media (min-width: ",") {\n      width: 106px;\n      margin-right: 26px;\n    }\n  }\n\n  @media (min-width: ",") {\n    padding-bottom: ",";\n  }\n"])),(function(n){return n.theme.colors.borderColor}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return(0,n.theme.spacing)(5)})),G=O.ZP.span(a||(a=(0,E.Z)(["\n  margin-right: ",";\n"])),(function(n){return(0,n.theme.spacing)(1)})),V=O.ZP.span(d||(d=(0,E.Z)(["\n  font-size: 10px;\n\n  @media (min-width: ",") {\n    font-size: 14px;\n  }\n"])),(function(n){return n.theme.breakpoints.tablet})),L=O.ZP.div(u||(u=(0,E.Z)(["\n  display: flex;\n  align-items: flex-end;\n"]))),W=(0,O.ZP)(T.ZP)(c||(c=(0,E.Z)(["\n  & .MuiPaper-root {\n    background-color: ",";\n  }\n\n  & .MuiTypography-root {\n    font-size: 14px;\n  }\n"])),(function(n){return n.theme.colors.$lightGrey})),H=function(n){var t=n.title,e=n.weight,i=n.kcal,r=n.currentDate,o=n.productId,a=n.disabled,d=S.Am.useDeleteProductFromDateMutation(),u=(0,g.Z)(d,2),c=u[0],s=u[1].isLoading,l=s||(a||!1),p=(0,w.useState)(null),m=(0,g.Z)(p,2),h=m[0],x=m[1],f=Boolean(h),b=f?"simple-popover":void 0;return(0,_.jsxs)(B,{children:[(0,_.jsx)(N,{onClick:function(n){console.log(n.currentTarget),x(n.currentTarget)},children:t}),(0,_.jsx)(W,{id:b,open:f,anchorEl:h,onClose:function(){x(null)},anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"},children:(0,_.jsx)(A.Z,{sx:{p:1},children:t})}),(0,_.jsxs)(N,{children:[(0,_.jsx)(G,{children:e}),(0,_.jsx)(V,{children:"g"})]}),(0,_.jsxs)(N,{children:[(0,_.jsx)(G,{children:i}),(0,_.jsx)(V,{children:"kcal"})]}),(0,_.jsx)(L,{children:(0,_.jsx)(q,{type:"button",icon:(0,_.jsx)(z.Z,{}),onClick:function(){return c({currentDate:r,productId:o})},disabled:l})})]})},R=O.ZP.ul(s||(s=(0,E.Z)(["\n  //Scrollbar variables\n  --mask-height: 40px;\n  --padding-right: 40px;\n  --mask-image-content: linear-gradient(\n    to bottom,\n    white var(--mask-height),\n    white calc(100% - var(--mask-height)),\n    transparent\n  );\n  --mask-size-content: calc(100% - var(--scrollbar-width));\n  //end variables\n\n  display: flex;\n  flex-direction: column;\n  width: 300px;\n  height: 220px;\n  margin-top: ",";\n  margin-right: 5%;\n  font-size: 14px;\n  overflow-y: auto;\n\n  ::-webkit-scrollbar {\n    width: 6px;\n  }\n\n  ::-webkit-scrollbar-track {\n    background: ",";\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: ",";\n  }\n\n  mask-size: var(--mask-size-content);\n  mask-image: var(--mask-image-content);\n  mask-position: bottom 40px;\n  mask-repeat: no-repeat;\n\n  @media (min-width: 768px) {\n    width: 610px;\n    height: 260px;\n    padding-right: 32px;\n    margin-right: 0;\n  }\n\n  @media (min-width: 1280px) {\n    width: 623px;\n    height: 306px;\n  }\n"])),(function(n){return(0,n.theme.spacing)(8)}),(function(n){return n.theme.colors.$lightGrey}),(function(n){return n.theme.colors.$blue})),K=function(n){var t=n.products,e=n.currentDate,i=n.disabled;return(0,_.jsx)(R,{children:t.map((function(n){var t=n._id,r=n.title.ua,o=n.weight,a=n.kcal;return(0,_.jsx)(H,{title:r,weight:o,kcal:a,currentDate:e,productId:t,disabled:i},t)}))})},Q=e(4165),J=e(5861),U=e(5985),X=O.ZP.form.withConfig({displayName:"DiaryAddProductFormstyled__DiaryAddProductFormStyled",componentId:"sc-1ghxj2p-0"})(["display:flex;flex-direction:column;gap:32px;align-items:center;@media screen and (min-width:","){flex-direction:row;align-items:center;gap:40px;}@media screen and (min-width:","){gap:60px;}"],(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop})),Y=O.ZP.div.withConfig({displayName:"DiaryAddProductFormstyled__FlexWrapper",componentId:"sc-1ghxj2p-1"})(["display:flex;flex-direction:column;gap:4px;"]),nn=e(7630),tn=e(6151),en=e(5763),rn=(0,nn.ZP)(C.Z)({"& ":{minWidth:"240px"},"& label":{color:"#9B9FAA",fontFamily:"Verdana",fontWeight:700,fontSize:"14px",lineHeight:"1.2",letterSpacing:"0.04em"},"& label.Mui-focused":{color:"#FC842D"},"& .MuiInput-underline:before":{borderBottom:"1px solid #E0E0E0"},"& .MuiInput-underline:after":{borderBottomColor:"#FC842D"}}),on=(0,nn.ZP)(tn.Z)(l||(l=(0,E.Z)(["\n  min-width: 48px;\n  height: 48px;\n  padding: 17px;\n  font-family: 'Verdana';\n\n  font-size: 14px;\n  font-weight: 700;\n  text-transform: none;\n\n  background: #fc842d;\n  border-radius: 30px;\n  box-shadow: 0 4px 10px rgba(252, 132, 45, 0.5);\n\n  &:hover {\n    background: #e76000;\n    transform: scale(1.1);\n  }\n\n  @media screen and (min-width: 768px) {\n    /* margin: 60px 0 0; */\n  }\n"]))),an=(0,nn.ZP)(en.ueT)(p||(p=(0,E.Z)([""]))),dn=e(7227),un=e(3329),cn=function(n){var t=n.items,e=n.setProductId,i=n.inputValue,r=n.onInputChange;return(0,_.jsx)(dn.Z,{id:"possible_products",getOptionLabel:function(n){var t,e,i;return null!==(t=(null===(e=n.title)||void 0===e?void 0:e.ua)||(null===(i=n.title)||void 0===i?void 0:i.ru))&&void 0!==t?t:""},isOptionEqualToValue:function(n,t){return n._id===t._id},options:t,sx:{width:300},noOptionsText:"Np products matches",renderOption:function(n,t){var e,i;return(0,w.createElement)(un.Z,(0,x.Z)((0,x.Z)({component:"li"},n),{},{key:t._id}),(null===(e=t.title)||void 0===e?void 0:e.ua)||(null===(i=t.title)||void 0===i?void 0:i.ru))},renderInput:function(n){return(0,_.jsx)(C.Z,(0,x.Z)((0,x.Z)({},n),{},{label:"Enter product name"}))},onChange:function(n,t){e(null===t||void 0===t?void 0:t._id)},inputValue:i,onInputChange:r,filterOptions:function(n){return n},groupBy:function(n){var t;return null===(t=n.categories)||void 0===t?void 0:t[0]},clearOnBlur:!1,selectOnFocus:!0,handleHomeEndKeys:!0,autoHighlight:!0})},sn=e(8573),ln=e.n(sn),pn=e(132),mn=(0,pn.Ry)({weight:(0,pn.Rx)().min(1,"min 1 gram").max(1e4,"max 10,000 grams").positive("expects positive number").integer("expects integer (no dot)").required("Weight required"),id:(0,pn.Z_)().min(1,"id min 1 char").max(1024,"id max 1024 char").required("Product id (name) required"),date:(0,pn.hT)().min(new Date(2e3,0,1),"min 2020 year").default((function(){return(0,v.Z)(new Date,{representation:"date"})}))}),hn=function(n){var t=n.addProduct,e=(0,w.useState)(""),i=(0,g.Z)(e,2),r=i[0],o=i[1],a=(0,w.useState)(""),d=(0,g.Z)(a,2),u=d[0],c=d[1],s=(0,S.jM)(),l=(0,g.Z)(s,2),p=l[0],m=l[1].data,h=(m=void 0===m?{}:m).data,x=void 0===h?[]:h,y=(0,f.v9)(b.cc),Z=(0,v.Z)(y,{representation:"date"}),k=function(){var n=(0,J.Z)((0,Q.Z)().mark((function n(e){var i,r,o,a;return(0,Q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),i=e.target,r=new FormData(i),o=Number(r.get("weight").trim()),Z&&u&&o){n.next=6;break}return n.abrupt("return",(0,U.Am)("Please fill date, productName and weight"));case 6:return a={date:Z,id:u,weight:o},n.prev=7,n.next=10,mn.validate(a);case 10:return n.next=12,t(a);case 12:(0,U.Am)(a),i.reset(),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(7),(0,U.Am)("Not added: ".concat(n.t0.message)),console.log(n.t0);case 20:case"end":return n.stop()}}),n,null,[[7,16]])})));return function(t){return n.apply(this,arguments)}}(),j=(0,w.useMemo)((function(){return ln()(p,500)}),[p]);return(0,w.useEffect)((function(){r.length&&j({title:r,limit:10})}),[j,p,r]),(0,_.jsxs)(X,{onSubmit:k,children:[(0,_.jsx)(cn,{items:x,setProductId:c,inputValue:r,onInputChange:function(n,t){return o(t)}}),(0,_.jsx)(Y,{children:(0,_.jsx)(rn,{variant:"standard",name:"weight",label:"Grams",type:"text",title:"min 1, max 6 digits",inputProps:{inputMode:"numeric",pattern:"[0-9]{1,6}"},required:!0})}),(0,_.jsx)(on,{color:"primary",variant:"contained",type:"submit",children:(0,_.jsx)(an,{})})]})},gn=e(7325),xn=(O.ZP.div.withConfig({displayName:"DiaryPageContentstyled__DiaryPageContentStyled",componentId:"sc-7qo01r-0"})(["display:flex;flex-direction:column;justify-content:center;width:320px;min-height:460px;height:100%;padding:40px 20px 60px 20px;margin:0 auto;@media (min-width:","){padding:180px 32px 55px 32px;width:768px;min-height:594px;}@media (min-width:","){align-items:center;justify-content:center;width:763px;min-height:850px;padding:294px 32px 112px 32px;}"],(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop})),O.ZP.div.withConfig({displayName:"DiaryPageContentstyled__DiaryPageStyled",componentId:"sc-7qo01r-1"})(["display:flex;flex-direction:column;gap:20px;"])),fn=e(4690),bn=function(){var n=S.Am.useAddProductMutation(),t=(0,g.Z)(n,2),e=t[0],i=t[1].isLoading,r=(0,f.v9)((function(n){return n.calendar.activeDate})),o=S.Am.useGetProductsByDateQuery(r),a=o.data,d=void 0===a?{}:a,u=o.isLoading,c=d.data,s=(c=void 0===c?{}:c).consumedProducts,l=void 0===s?[]:s,p=function(){var n=(0,f.v9)(b.cc);return(0,w.useMemo)((function(){var t=new Date(n).getTime(),e=(new Date).getTime();return t>e||(0,fn.Z)(t,e)}),[n])}();return(0,_.jsx)(h.qm,{children:(0,_.jsxs)(xn,{children:[(0,_.jsx)(F,{}),p&&(0,_.jsx)(hn,{addProduct:e}),u||i?(0,_.jsx)(gn.$,{}):Boolean(l.length)?(0,_.jsx)(K,{products:l,currentDate:r,disabled:!p}):(0,_.jsx)("h1",{children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0432\u044b \u0435\u0449\u0451 \u043d\u0435 \u0435\u043b\u0438!"})]})})},vn=function(){return(0,_.jsxs)(h._z,{children:[(0,_.jsx)(bn,{}),(0,_.jsx)(m.m,{})]})}}}]);
//# sourceMappingURL=879.ee4da15e.chunk.js.map