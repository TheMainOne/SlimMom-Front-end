"use strict";(self.webpackChunkslimmom_front_end=self.webpackChunkslimmom_front_end||[]).push([[64],{5064:function(n,e,t){t.r(e),t.d(e,{default:function(){return hn}});var i,r,a=t(7737),o=t(366),d=t(885),l=t(5048),c=t(9513),u=t.n(c),s=t(4551),p=(t(8639),t(8558)),h=t(7939),m=t(2791),x=["title","titleId"];function f(){return f=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},f.apply(this,arguments)}function g(n,e){if(null==n)return{};var t,i,r=function(n,e){if(null==n)return{};var t,i,r={},a=Object.keys(n);for(i=0;i<a.length;i++)t=a[i],e.indexOf(t)>=0||(r[t]=n[t]);return r}(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)t=a[i],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function b(n,e){var t=n.title,a=n.titleId,o=g(n,x);return m.createElement("svg",f({width:20,height:20,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",ref:e,"aria-labelledby":a},o),t?m.createElement("title",{id:a},t):null,i||(i=m.createElement("path",{fill:"#9B9FAA",d:"M15 9h-2v2h2V9Zm-4 0H9v2h2V9ZM7 9H5v2h2V9Z"})),r||(r=m.createElement("path",{fill:"#9B9FAA",d:"M17 2h-1V0h-2v2H6V0H4v2H3a2 2 0 0 0-1.99 2L1 18a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Zm0 16H3V7h14v11Z"})))}var v,w,y,k,j,Z,P,D=m.forwardRef(b),_=(t.p,h.ZP.input.withConfig({displayName:"DiaryDateCalendarstyled__DateInputStyled",componentId:"sc-117nxvv-0"})(["max-width:130px;font-family:",";font-size:18px;font-style:normal;font-weight:700;line-height:",";color:",";border:none;@media screen and (min-width:","){font-size:34px;max-width:220px;}"],(function(n){return n.theme.fonts.verdanaBold}),(function(n){return n.theme.lineHeight.verdanaHeight}),(function(n){return n.theme.colors.$black}),(function(n){return n.theme.breakpoints.tablet}))),C=(0,h.ZP)(D).withConfig({displayName:"DiaryDateCalendarstyled__IconCalendar",componentId:"sc-117nxvv-1"})([""]),I=h.ZP.div.withConfig({displayName:"DiaryDateCalendarstyled__CalendarWrapper",componentId:"sc-117nxvv-2"})(["display:flex;align-items:center;gap:20px;@media screen and (min-width:","){gap:30px;}.react-datepicker__input-container{width:unset;}.react-datepicker-wrapper{width:unset;}"],(function(n){return n.theme.breakpoints.tablet})),O=t(184),A=function(){var n=(0,l.I0)(),e=(0,l.v9)(s.cc);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(I,{children:[(0,O.jsx)(u(),{selected:e,onChange:function(e){var t=(0,p.Z)(e,{representation:"date"});console.log(t),n((0,s.GS)(t))},dateFormat:"dd.MM.yyyy",customInput:(0,O.jsx)(_,{maxLength:"10"})}),(0,O.jsx)(C,{})]}),(0,O.jsx)("ul",{})]})},F=t(168),S=h.ZP.li(v||(v=(0,F.Z)(["\n  display: flex;\n  justify-content: space-between;\n"]))),E=h.ZP.div(w||(w=(0,F.Z)(["\n  padding-top: ",";\n  padding-bottom: ",";\n  border-bottom: 1px solid ",";\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  &:not(:first-child) {\n    text-align: right;\n  }\n\n  &:first-child {\n    width: 130px;\n\n    @media (min-width: ",") {\n      width: 240px;\n    }\n  }\n\n  &:nth-child(2) {\n    width: 49px;\n    @media (min-width: ",") {\n      width: 106px;\n    }\n  }\n\n  &:nth-child(3) {\n    width: 58px;\n    @media (min-width: ",") {\n      width: 106px;\n    }\n  }\n\n  @media (min-width: ",") {\n    padding-top: ",";\n    padding-bottom: ",";\n  }\n"])),(function(n){return(0,n.theme.spacing)(5)}),(function(n){return(0,n.theme.spacing)(2)}),(function(n){return n.theme.colors.borderColor}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return(0,n.theme.spacing)(4)}),(function(n){return(0,n.theme.spacing)(5)})),M=h.ZP.span(y||(y=(0,F.Z)(["\n  margin-right: ",";\n"])),(function(n){return(0,n.theme.spacing)(1)})),V=h.ZP.span(k||(k=(0,F.Z)(["\n  font-size: 10px;\n\n  @media (min-width: ",") {\n    font-size: 14px;\n  }\n"])),(function(n){return n.theme.breakpoints.tablet})),z=t(1543),B=function(n){var e=n.title,t=n.weight,i=n.kcal,r=n.currentDate,a=n.productId,o=z.Am.useDeleteProductFromDateMutation(),l=(0,d.Z)(o,2),c=l[0],u=l[1].isLoading;return(0,O.jsxs)(S,{children:[(0,O.jsx)(E,{children:e}),(0,O.jsxs)(E,{children:[(0,O.jsx)(M,{children:t}),(0,O.jsx)(V,{children:"g"})]}),(0,O.jsxs)(E,{children:[(0,O.jsx)(M,{children:i}),(0,O.jsx)(V,{children:"kcal"})]}),(0,O.jsx)("button",{type:"button",onClick:function(){return c({currentDate:r,productId:a})},disabled:!!u,children:"X"})]})},H=h.ZP.ul(j||(j=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 280px;\n  height: 306px;\n  margin-top: ",";\n  padding-bottom: var(--mask-height);\n  font-size: 14px;\n\n  @media (min-width: 768px) {\n    width: 610px;\n    height: 244px;\n    padding-right: 40px;\n    overflow-y: auto;\n\n    ::-webkit-scrollbar-button {\n    }\n\n    ::-webkit-scrollbar {\n      width: 6px;\n      height: 221px;\n    }\n\n    ::-webkit-scrollbar-track {\n      background: ",";\n      height: 40px;\n    }\n\n    ::-webkit-scrollbar-thumb {\n      background: ",";\n    }\n\n    /* ::-webkit-scrollbar-thumb:hover {\n      background: #555;\n    } */\n\n    //Scrollbar\n    //Scrollbar variables\n    --mask-height: 32px;\n    --padding-right: 40px;\n    --mask-image-content: linear-gradient(\n      to bottom,\n      white var(--mask-height),\n      white calc(100% - var(--mask-height)),\n      transparent\n    );\n    --mask-size-content: calc(100% - var(--scrollbar-width));\n    //end variables\n\n    mask-size: var(--mask-size-content);\n    mask-image: var(--mask-image-content);\n    mask-position: bottom 50px;\n    mask-repeat: no-repeat;\n  }\n\n  @media (min-width: 1280px) {\n    width: 623px;\n    height: 271px;\n    margin-right: ",";\n    margin-left: auto;\n  }\n"])),(function(n){return(0,n.theme.spacing)(8)}),(function(n){return n.theme.colors.$lightGrey}),(function(n){return n.theme.colors.$blue}),(function(n){return(0,n.theme.spacing)(34)})),N=function(n){var e=n.products,t=n.currentDate;return(0,O.jsx)(H,{children:e.map((function(n){var e=n._id,i=n.title.ua,r=n.weight,a=n.kcal;return(0,O.jsx)(B,{title:i,weight:r,kcal:a,currentDate:t,productId:e},e)}))})},q=t(4165),L=t(5861),T=t(5206),W=h.ZP.form.withConfig({displayName:"DiaryAddProductFormstyled__DiaryAddProductFormStyled",componentId:"sc-1ghxj2p-0"})(["display:flex;flex-direction:column;gap:32px;align-items:center;@media screen and (min-width:","){flex-direction:row;align-items:center;gap:40px;}@media screen and (min-width:","){gap:60px;}"],(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop})),G=h.ZP.div.withConfig({displayName:"DiaryAddProductFormstyled__FlexWrapper",componentId:"sc-1ghxj2p-1"})(["display:flex;flex-direction:column;gap:4px;"]),$=t(7630),R=t(6151),K=t(9603),Q=t(5763),X=(0,$.ZP)(K.Z)({"& ":{minWidth:"240px"},"& label":{color:"#9B9FAA",fontFamily:"Verdana",fontWeight:700,fontSize:"14px",lineHeight:"1.2",letterSpacing:"0.04em"},"& label.Mui-focused":{color:"#FC842D"},"& .MuiInput-underline:before":{borderBottom:"1px solid #E0E0E0"},"& .MuiInput-underline:after":{borderBottomColor:"#FC842D"}}),J=(0,$.ZP)(R.Z)(Z||(Z=(0,F.Z)(["\n  min-width: 48px;\n  height: 48px;\n  padding: 17px;\n  font-family: 'Verdana';\n\n  font-size: 14px;\n  font-weight: 700;\n  text-transform: none;\n\n  background: #fc842d;\n  border-radius: 30px;\n  box-shadow: 0 4px 10px rgba(252, 132, 45, 0.5);\n\n  &:hover {\n    background: #e76000;\n    transform: scale(1.1);\n  }\n\n  @media screen and (min-width: 768px) {\n    /* margin: 60px 0 0; */\n  }\n"]))),U=(0,$.ZP)(Q.ueT)(P||(P=(0,F.Z)([""]))),Y=t(1413),nn=t(2409),en=t(3329),tn=function(n){var e=n.items,t=n.setProductId,i=n.inputValue,r=n.onInputChange;return(0,O.jsx)(nn.Z,{id:"possible_products",getOptionLabel:function(n){var e,t,i;return null!==(e=(null===(t=n.title)||void 0===t?void 0:t.ua)||(null===(i=n.title)||void 0===i?void 0:i.ru))&&void 0!==e?e:""},isOptionEqualToValue:function(n,e){return n._id===e._id},options:e,sx:{width:300},noOptionsText:"Np products matches",renderOption:function(n,e){var t,i;return(0,m.createElement)(en.Z,(0,Y.Z)((0,Y.Z)({component:"li"},n),{},{key:e._id}),(null===(t=e.title)||void 0===t?void 0:t.ua)||(null===(i=e.title)||void 0===i?void 0:i.ru))},renderInput:function(n){return(0,O.jsx)(K.Z,(0,Y.Z)((0,Y.Z)({},n),{},{label:"Enter product name"}))},onChange:function(n,e){t(null===e||void 0===e?void 0:e._id)},inputValue:i,onInputChange:r,filterOptions:function(n){return n},groupBy:function(n){var e;return null===(e=n.categories)||void 0===e?void 0:e[0]},clearOnBlur:!1,selectOnFocus:!0,handleHomeEndKeys:!0,autoHighlight:!0})},rn=t(8573),an=t.n(rn),on=t(4929),dn=(0,on.Ry)({weight:(0,on.Rx)().min(1,"min 1 gram").max(1e4,"max 10,000 grams").positive("expects positive number").integer("expects integer (no dot)").required("Weight required"),id:(0,on.Z_)().min(1,"id min 1 char").max(1024,"id max 1024 char").required("Product id (name) required"),date:(0,on.hT)().min(new Date(2e3,0,1),"min 2020 year").default((function(){return(0,p.Z)(new Date,{representation:"date"})}))}),ln=function(n){var e=n.addProduct,t=(0,m.useState)(""),i=(0,d.Z)(t,2),r=i[0],a=i[1],o=(0,m.useState)(""),c=(0,d.Z)(o,2),u=c[0],h=c[1],x=(0,z.jM)(),f=(0,d.Z)(x,2),g=f[0],b=f[1].data,v=(b=void 0===b?{}:b).data,w=void 0===v?[]:v,y=(0,l.v9)(s.cc),k=(0,p.Z)(y,{representation:"date"}),j=function(){var n=(0,L.Z)((0,q.Z)().mark((function n(t){var i,r,a,o;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),i=t.target,r=new FormData(i),a=Number(r.get("weight").trim()),k&&u&&a){n.next=6;break}return n.abrupt("return",(0,T.Am)("Please fill date, productName and weight"));case 6:return o={date:k,id:u,weight:a},n.prev=7,n.next=10,dn.validate(o);case 10:return n.next=12,e(o);case 12:(0,T.Am)(o),i.reset(),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(7),(0,T.Am)("Not added: ".concat(n.t0.message)),console.log(n.t0);case 20:case"end":return n.stop()}}),n,null,[[7,16]])})));return function(e){return n.apply(this,arguments)}}(),Z=(0,m.useMemo)((function(){return an()(g,500)}),[g]);return(0,m.useEffect)((function(){r.length&&Z({title:r,limit:10})}),[Z,g,r]),(0,O.jsxs)(W,{onSubmit:j,children:[(0,O.jsx)(tn,{items:w,setProductId:h,inputValue:r,onInputChange:function(n,e){return a(e)}}),(0,O.jsx)(G,{children:(0,O.jsx)(X,{variant:"standard",name:"weight",label:"Grams",type:"text",title:"min 1, max 6 digits",inputProps:{inputMode:"numeric",pattern:"[0-9]{1,6}"},required:!0})}),(0,O.jsx)(J,{color:"primary",variant:"contained",type:"submit",children:(0,O.jsx)(U,{})})]})},cn=t(7325),un=(h.ZP.div.withConfig({displayName:"DiaryPageContentstyled__DiaryPageContentStyled",componentId:"sc-7qo01r-0"})(["display:flex;flex-direction:column;justify-content:center;width:320px;min-height:460px;height:100%;padding:40px 20px 60px 20px;margin:0 auto;@media (min-width:","){padding:180px 32px 55px 32px;width:768px;min-height:594px;}@media (min-width:","){align-items:center;justify-content:center;width:763px;min-height:850px;padding:294px 32px 112px 32px;}"],(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop})),h.ZP.div.withConfig({displayName:"DiaryPageContentstyled__DiaryPageStyled",componentId:"sc-7qo01r-1"})(["display:flex;flex-direction:column;gap:20px;"])),sn=t(4690),pn=function(){var n=z.Am.useAddProductMutation(),e=(0,d.Z)(n,2),t=e[0],i=e[1].isLoading,r=(0,l.v9)((function(n){return n.calendar.activeDate})),a=z.Am.useGetProductsByDateQuery(r),c=a.data,u=void 0===c?{}:c,s=a.isLoading,p=u.data,h=(p=void 0===p?{}:p).consumedProducts,m=void 0===h?[]:h,x=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=new Date(n).getTime(),t=(new Date).getTime();return e>t||(0,sn.default)(e,t)}(r);return(0,O.jsx)(o.qm,{children:(0,O.jsxs)(un,{children:[(0,O.jsx)(A,{}),x&&(0,O.jsx)(ln,{addProduct:t}),s||i?(0,O.jsx)(cn.$j,{}):Boolean(m.length)?(0,O.jsx)(N,{products:m,currentDate:r}):(0,O.jsx)("h1",{children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0432\u044b \u0435\u0449\u0451 \u043d\u0435 \u0435\u043b\u0438!"})]})})},hn=function(){return(0,O.jsxs)(o._z,{children:[(0,O.jsx)(pn,{}),(0,O.jsx)(a.m,{})]})}}}]);
//# sourceMappingURL=64.66c9b7bc.chunk.js.map