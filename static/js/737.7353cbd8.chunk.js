"use strict";(self.webpackChunkslimmom_front_end=self.webpackChunkslimmom_front_end||[]).push([[737],{7737:function(n,t,e){e.d(t,{m:function(){return X}});var i=e(885),r=e(168),a=e(7939),o=e(2791);var d=e.p+"static/media/Layer-4.a8eee669b7640dcc5a9c4e67d35fa9c6.svg";var u,l,c,s,p,h,x,f,m,v,g,b=e.p+"static/media/Layer-5.02bd20ea58ab3bc0124fa64536fa81b0.svg",y=a.ZP.div(u||(u=(0,r.Z)(["\n  font-weight: 400;\n  font-size: 14px;\n  line-height: ",";\n  color: ",";\n  background-color: ",";\n  display: flex;\n  justify-content: center;\n"])),(function(n){return n.theme.lineHeight.verdanaHeight}),(function(n){return n.theme.colors.$grey}),(function(n){return n.theme.colors.$lightGrey})),j=a.ZP.div(l||(l=(0,r.Z)(["\n  background-repeat: no-repeat;\n  padding: 40px 15px 84px 20px;\n\n  @media (min-width: 768px) {\n    width: 768px;\n    min-height: 350px;\n    display: flex;\n    justify-content: flex-start;\n    padding: 91px 10px 91px 87px;\n\n    background-size: 369px 350px;\n    background-position: 399px bottom;\n    background-image: url(",");\n  }\n\n  @media (min-width: 1280px) {\n    width: 517px;\n    min-height: 850px;\n    height: 100vh;\n    padding: 292px 0 0 106px;\n    flex-direction: column;\n    justify-content: flex-start;\n\n    background-size: 505px 815px;\n    background-position: 35px 12px;\n    background-image: url(",");\n  }\n"])),b,d),Z=a.ZP.div(c||(c=(0,r.Z)(["\n  width: 285px;\n\n  @media (min-width: 768px) {\n    width: 350px;\n  }\n\n  &:first-child {\n    width: 280px;\n    margin-bottom: 40px;\n\n    @media (min-width: 768px) {\n      width: 252px;\n      margin-bottom: 0px;\n      margin-right: 60px;\n    }\n\n    @media (min-width: 1280px) {\n      width: 270px;\n      margin-bottom: 60px;\n      margin-left: 0px;\n    }\n  }\n"]))),P=e(184),w=function(n){var t=n.children;return(0,P.jsx)(y,{children:t})},k=function(n){var t=n.children;return(0,P.jsx)(j,{children:t})},D=function(n){var t=n.children;return(0,P.jsx)(Z,{children:t})},L=a.ZP.th(s||(s=(0,r.Z)(["\n  text-align: left;\n  width: 150px;\n  border-right: 20px solid transparent;\n  padding-bottom: 14px;\n  font-weight: 400;\n  font-size: 14px;\n"]))),M=a.ZP.td(p||(p=(0,r.Z)(["\n  display: flex;\n  align-items: flex-start;\n  justify-content: flex-end;\n  width: 130px;\n\n  color: ",";\n"])),(function(n){return n.number?"inherit":n.theme.colors.$orange})),R=a.ZP.tr(h||(h=(0,r.Z)(["\n  &:last-child "," {\n    padding-bottom: 0px;\n  }\n"])),L),E=a.ZP.span(x||(x=(0,r.Z)(["\n  margin-left: 5px;\n  width: 27px;\n"]))),T=function(n){var t=n.data,e=void 0===t?null:t,i=n.unit,r=n.head;return(0,P.jsxs)(R,{children:[(0,P.jsx)(L,{children:r}),(0,P.jsxs)(M,{number:e>=0,children:[e?String(e).padStart(3,"0"):"000",(0,P.jsx)(E,{children:i})]})]})},z=a.ZP.table(f||(f=(0,r.Z)(["\n  border-collapse: collapse;\n"]))),A=function(n){var t=n.children;return(0,P.jsx)(z,{children:(0,P.jsx)("tbody",{children:t})})},G=function(n){var t=n.data,e=t.left,i=t.consumed,r=t.dailyRate,a=t.percente;return(0,P.jsxs)(A,{children:[(0,P.jsx)(T,{data:e,head:"Left",unit:"kcal"}),(0,P.jsx)(T,{data:i,head:"Consumed",unit:"kcal"}),(0,P.jsx)(T,{data:r,head:"Daily rate",unit:"kcal"}),(0,P.jsx)(T,{data:a,head:"n% of normal",unit:"%"})]})},S=e(5048),C=e(1543),W=e(6386),$=e(9831),_=function(n){return(0,W.Z)((0,$.Z)(n),"MM/dd/yyyy")},B=e(1014),F={dailyData:{left:null,consumed:null,dailyRate:null,percente:null},bannedProducts:{}},N=function(n){var t=(0,o.useState)(F),e=(0,i.Z)(t,2),r=e[0],a=e[1],d=function(){var n,t=(0,S.v9)((function(n){return n.calendar.activeDate})),e=C.Am.useGetProductsByDateQuery(t).data;return{consumed:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.total,date:_(t)}}(),u=d.consumed,l=d.date,c=function(){var n,t,e=C.py.useGetPrivateDailyNormaMutation(),r=(0,i.Z)(e,2),a=r[0],d=r[1].data,u=(0,S.v9)(B.is);return(0,o.useEffect)((function(){if(u){var n=u.currentWeight,t=u.height,e=u.age,i=u.desiredWeight,r=u.bloodType;a({currentWeight:n,height:t,age:e,desiredWeight:i,bloodType:r})}}),[a,u]),{userDailyRate:null===d||void 0===d||null===(n=d.results)||void 0===n?void 0:n.dailyRate,products:null===d||void 0===d||null===(t=d.results)||void 0===t?void 0:t.bannedProducts}}(),s=c.userDailyRate,p=c.products;return(0,o.useEffect)((function(){var t,e,i=(null===n||void 0===n||null===(t=n.results)||void 0===t?void 0:t.dailyRate)||s,r=(null===n||void 0===n||null===(e=n.results)||void 0===e?void 0:e.bannedProducts)||p,o=i&&u>=0,d=o?100*u/i:null;a({dailyData:{left:o?i-u:null,consumed:u,dailyRate:i,percente:Math.round(d)},bannedProducts:r})}),[u,p,s,n]),[r,l]},q=function(n,t){return n.total===n.totalInBase?"\u0412\u0441\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0438 \u0438\u0437 \u0433\u0440\u0443\u043f\u044b: ".concat(t,"."):null},H=function(n,t){return n.total>n.totalInBase/2?"\u0411\u043e\u043b\u044c\u0448\u0435\u043d\u0441\u0442\u0432\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432 \u0438\u0437 \u0433\u0440\u0443\u043f\u044b: ".concat(t,"."):null},I=function(n,t){var e=n.total,i=n.products,r=void 0===i?[]:i,a=null===r||void 0===r?void 0:r.map((function(n){return n.title.ru})).join(", ");return e<=4?"\u041d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b \u0438\u0437 \u0433\u0440\u0443\u043f\u044b: ".concat(t," (").concat(a,")."):null},O=function(n){return(t=n,t[0]=t[0][0].toUpperCase()+t[0].substring(1),t).join(", ");var t},Q=a.ZP.ul(m||(m=(0,r.Z)([""]))),U=a.ZP.li(v||(v=(0,r.Z)(["\n  padding-bottom: 14px;\n\n  &:last-child {\n    padding-bottom: 0;\n  }\n"]))),V=function(n){var t=n.productList;return(0,P.jsx)(P.Fragment,{children:null===t||void 0===t?void 0:t.map((function(n,t){return(0,P.jsx)(U,{children:n},t)}))})},Y=function(n){var t=n.foodList,e=(0,o.useMemo)((function(){return function(n){if(n){var t=[],e=[];return Object.keys(n).forEach((function(i){var r=q(n[i],i)||I(n[i],i)||H(n[i],i)||null;r&&t.push(r),r||e.push(i)})),e.length>0&&t.push(O(e)),t}}(null===t||void 0===t?void 0:t.categories)}),[t]);return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(Q,{children:(null===e||void 0===e?void 0:e.length)>0&&(0,P.jsx)(V,{productList:e})||"Your diet will be displayed here"})})},J=a.ZP.h3(g||(g=(0,r.Z)(["\n  font-family: 'Verdana';\n  font-size: 14px;\n  font-weight: 700;\n  color: ",";\n  margin-bottom: 20px;\n\n  @media (min-width: 768px) {\n    margin-bottom: 22px;\n  }\n\n  @media (min-width: 1280px) {\n    margin-bottom: 20px;\n  }\n"])),(function(n){return n.theme.colors.$black})),K=function(n){var t=n.text;return(0,P.jsx)(J,{children:t})},X=function(n){var t=n.userData,e=N(t),r=(0,i.Z)(e,2),a=r[0],o=r[1];return(0,P.jsx)(w,{children:(0,P.jsxs)(k,{children:[(0,P.jsxs)(D,{children:[(0,P.jsx)(K,{text:"Summary for ".concat(o)}),(0,P.jsx)(G,{data:a.dailyData})]}),(0,P.jsxs)(D,{children:[(0,P.jsx)(K,{text:"Food not recommended"}),(0,P.jsx)(Y,{foodList:a.bannedProducts})]})]})})}},1543:function(n,t,e){e.d(t,{Am:function(){return r.A},jM:function(){return i},py:function(){return a}});var i=e(5066).baseApi.injectEndpoints({endpoints:function(n){return{getProducts:n.mutation({query:function(n){return{url:"/products/",method:"GET",params:{title:n.title,limit:n.limit}}},providesTags:["Products"]})}}}).useGetProductsMutation,r=e(1988),a=e(5066).baseApi.injectEndpoints({endpoints:function(n){return{getPrivateDailyNorma:n.mutation({query:function(n){return{url:"/users/daily-norma/private",method:"POST",body:n}},invalidatesTags:["PrivatDailyNorma"]})}}})}}]);
//# sourceMappingURL=737.7353cbd8.chunk.js.map