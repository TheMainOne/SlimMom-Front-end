"use strict";(self.webpackChunkslimmom_front_end=self.webpackChunkslimmom_front_end||[]).push([[746],{6802:function(n,t,e){e.r(t),e.d(t,{default:function(){return mn}});var i,r,a=e(6564),o=e(1008),d=e(885),l=e(5066).baseApi.injectEndpoints({endpoints:function(n){return{getProducts:n.mutation({query:function(n){return{url:"/products/",method:"GET",params:{title:n.title,limit:n.limit}}},providesTags:["Products"]}),addProduct:n.mutation({query:function(n){var t=n.date;return{url:"/diary/",method:"POST",body:{id:n.id,weight:n.weight},params:{date:t}}},invalidatesTags:["Products"]})}}}),s=l.useGetProductsMutation,c=l.useAddProductMutation,u=e(5048),h=e(9513),p=e.n(h),m=e(4551),g=(e(8639),e(8558)),f=e(7939),x=e(2791),w=["title","titleId"];function b(){return b=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},b.apply(this,arguments)}function v(n,t){if(null==n)return{};var e,i,r=function(n,t){if(null==n)return{};var e,i,r={},a=Object.keys(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)>=0||(r[e]=n[e]);return r}(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function y(n,t){var e=n.title,a=n.titleId,o=v(n,w);return x.createElement("svg",b({width:20,height:20,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",ref:t,"aria-labelledby":a},o),e?x.createElement("title",{id:a},e):null,i||(i=x.createElement("path",{fill:"#9B9FAA",d:"M15 9h-2v2h2V9Zm-4 0H9v2h2V9ZM7 9H5v2h2V9Z"})),r||(r=x.createElement("path",{fill:"#9B9FAA",d:"M17 2h-1V0h-2v2H6V0H4v2H3a2 2 0 0 0-1.99 2L1 18a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Zm0 16H3V7h14v11Z"})))}var k,j,Z,P,C,_,I,O=x.forwardRef(y),S=(e.p,f.ZP.input.withConfig({displayName:"DiaryDateCalendarstyled__DateInputStyled",componentId:"sc-117nxvv-0"})(["max-width:130px;font-family:",";font-size:18px;font-style:normal;font-weight:700;line-height:",";color:",";border:none;@media screen and (min-width:","){font-size:34px;max-width:220px;}"],(function(n){return n.theme.fonts.verdanaBold}),(function(n){return n.theme.lineHeight.verdanaHeight}),(function(n){return n.theme.colors.$black}),(function(n){return n.theme.breakpoints.tablet}))),D=(0,f.ZP)(O).withConfig({displayName:"DiaryDateCalendarstyled__IconCalendar",componentId:"sc-117nxvv-1"})([""]),E=f.ZP.div.withConfig({displayName:"DiaryDateCalendarstyled__CalendarWrapper",componentId:"sc-117nxvv-2"})(["display:flex;align-items:center;gap:20px;@media screen and (min-width:","){gap:30px;}.react-datepicker__input-container{width:unset;}.react-datepicker-wrapper{width:unset;}"],(function(n){return n.theme.breakpoints.tablet})),A=e(184),M=function(){var n=(0,u.I0)(),t=(0,u.v9)(m.cc);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(E,{children:[(0,A.jsx)(p(),{selected:t,onChange:function(t){var e=(0,g.Z)(t,{representation:"date"});console.log(e),n((0,m.GS)(e))},dateFormat:"dd.MM.yyyy",customInput:(0,A.jsx)(S,{maxLength:"10"})}),(0,A.jsx)(D,{})]}),(0,A.jsx)("ul",{})]})},F=e(168),V=f.ZP.li(k||(k=(0,F.Z)(["\n  display: flex;\n  justify-content: space-between;\n"]))),H=f.ZP.div(j||(j=(0,F.Z)(["\n  padding-top: ",";\n  padding-bottom: ",";\n  border-bottom: 1px solid ",";\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  &:not(:first-child) {\n    text-align: right;\n  }\n\n  &:first-child {\n    width: 130px;\n\n    @media (min-width: ",") {\n      width: 240px;\n    }\n  }\n\n  &:nth-child(2) {\n    width: 49px;\n    @media (min-width: ",") {\n      width: 106px;\n    }\n  }\n\n  &:nth-child(3) {\n    width: 58px;\n    @media (min-width: ",") {\n      width: 106px;\n    }\n  }\n\n  @media (min-width: ",") {\n    padding-top: ",";\n    padding-bottom: ",";\n  }\n"])),(function(n){return(0,n.theme.spacing)(5)}),(function(n){return(0,n.theme.spacing)(2)}),(function(n){return n.theme.colors.borderColor}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return(0,n.theme.spacing)(4)}),(function(n){return(0,n.theme.spacing)(5)})),T=f.ZP.span(Z||(Z=(0,F.Z)(["\n  margin-right: ",";\n"])),(function(n){return(0,n.theme.spacing)(1)})),q=f.ZP.span(P||(P=(0,F.Z)(["\n  font-size: 10px;\n\n  @media (min-width: ",") {\n    font-size: 14px;\n  }\n"])),(function(n){return n.theme.breakpoints.tablet})),z=function(n){var t=n.title,e=n.weight,i=n.kcal;return(0,A.jsxs)(V,{children:[(0,A.jsx)(H,{children:t}),(0,A.jsxs)(H,{children:[(0,A.jsx)(T,{children:e}),(0,A.jsx)(q,{children:"g"})]}),(0,A.jsxs)(H,{children:[(0,A.jsx)(T,{children:i}),(0,A.jsx)(q,{children:"kcal"})]}),(0,A.jsx)("button",{children:"X"})]})},B=f.ZP.ul(C||(C=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 280px;\n  height: 306px;\n  margin-top: ",";\n  padding-bottom: var(--mask-height);\n  font-size: 14px;\n\n  @media (min-width: 768px) {\n    width: 610px;\n    height: 244px;\n    padding-right: 40px;\n    overflow-y: auto;\n\n    ::-webkit-scrollbar-button {\n    }\n\n    ::-webkit-scrollbar {\n      width: 6px;\n      height: 221px;\n    }\n\n    ::-webkit-scrollbar-track {\n      background: ",";\n      height: 40px;\n    }\n\n    ::-webkit-scrollbar-thumb {\n      background: ",";\n    }\n\n    /* ::-webkit-scrollbar-thumb:hover {\n      background: #555;\n    } */\n\n    //Scrollbar\n    //Scrollbar variables\n    --mask-height: 32px;\n    --padding-right: 40px;\n    --mask-image-content: linear-gradient(\n      to bottom,\n      white var(--mask-height),\n      white calc(100% - var(--mask-height)),\n      transparent\n    );\n    --mask-size-content: calc(100% - var(--scrollbar-width));\n    //end variables\n\n    mask-size: var(--mask-size-content);\n    mask-image: var(--mask-image-content);\n    mask-position: bottom 50px;\n    mask-repeat: no-repeat;\n  }\n\n  @media (min-width: 1280px) {\n    width: 623px;\n    height: 271px;\n    margin-right: ",";\n    margin-left: auto;\n  }\n"])),(function(n){return(0,n.theme.spacing)(8)}),(function(n){return n.theme.colors.$lightGrey}),(function(n){return n.theme.colors.$blue}),(function(n){return(0,n.theme.spacing)(34)})),N=function(n){var t=n.consumedProducts;return(0,A.jsx)(B,{children:null===t||void 0===t?void 0:t.map((function(n){var t=n.title,e=n.weight,i=n.kcal;return(0,A.jsx)(z,{title:t,weight:e,kcal:i},t)}))})},L=e(2506),G=e(5206),R=f.ZP.form.withConfig({displayName:"DiaryAddProductFormstyled__DiaryAddProductFormStyled",componentId:"sc-1ghxj2p-0"})(["display:flex;flex-direction:column;gap:32px;align-items:center;@media screen and (min-width:","){flex-direction:row;align-items:center;gap:40px;}@media screen and (min-width:","){gap:60px;}"],(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop})),W=e(7630),$=e(6151),J=e(9603),K=e(5763),X=(0,W.ZP)(J.Z)({"& ":{minWidth:"240px"},"& label":{color:"#9B9FAA",fontFamily:"Verdana",fontWeight:700,fontSize:"14px",lineHeight:"1.2",letterSpacing:"0.04em"},"& label.Mui-focused":{color:"#FC842D"},"& .MuiInput-underline:before":{borderBottom:"1px solid #E0E0E0"},"& .MuiInput-underline:after":{borderBottomColor:"#FC842D"}}),Q=(0,W.ZP)($.Z)(_||(_=(0,F.Z)(["\n  min-width: 48px;\n  height: 48px;\n  padding: 17px;\n  font-family: 'Verdana';\n\n  font-size: 14px;\n  font-weight: 700;\n  text-transform: none;\n\n  background: #fc842d;\n  border-radius: 30px;\n  box-shadow: 0 4px 10px rgba(252, 132, 45, 0.5);\n\n  &:hover {\n    background: #e76000;\n    transform: scale(1.1);\n  }\n\n  @media screen and (min-width: 768px) {\n    /* margin: 60px 0 0; */\n  }\n"]))),U=(0,W.ZP)(K.ueT)(I||(I=(0,F.Z)([""]))),Y=e(1413),nn=e(3767),tn=e(2409),en=e(3329),rn=function(n){var t=n.name,e=n.items,i=n.title,r=n.setTitle,a=(n.onChange,n.productId,n.setSaveId);return(0,A.jsx)(nn.Z,{sx:{width:300,margin:"auto"},children:(0,A.jsx)(tn.Z,{id:"possible_products",getOptionLabel:function(n){var t,e,i;return null!==(t=(null===(e=n.title)||void 0===e?void 0:e.ua)||(null===(i=n.title)||void 0===i?void 0:i.ru))&&void 0!==t?t:""},isOptionEqualToValue:function(n,t){return n._id===t._id},options:e,sx:{width:300},noOptionsText:"Np products matches",renderOption:function(n,t){var e,i;return(0,x.createElement)(en.Z,(0,Y.Z)((0,Y.Z)({component:"li"},n),{},{key:t._id}),(null===(e=t.title)||void 0===e?void 0:e.ua)||(null===(i=t.title)||void 0===i?void 0:i.ru))},renderInput:function(n){return(0,A.jsx)(J.Z,(0,Y.Z)((0,Y.Z)({},n),{},{label:"Enter product name"}))},onChange:function(n,t){console.log({val:t}),a((function(n){return null===t||void 0===t?void 0:t._id}))},name:t,inputValue:i,onInputChange:function(n,t){return r((function(n){return t}))},filterOptions:function(n){return n},groupBy:function(n){var t;return null===(t=n.categories)||void 0===t?void 0:t[0]},clearOnBlur:"false",selectOnFocus:!0,handleHomeEndKeys:!0,autoHighlight:!0})})},an=e(8573),on=e.n(an),dn=e(4929),ln=JSON.stringify,sn=function(n){var t=n.addProduct,e=(0,x.useState)(""),i=(0,d.Z)(e,2),r=i[0],a=i[1],o=(0,x.useState)(""),l=(0,d.Z)(o,2),c=l[0],h=l[1],p=s(),f=(0,d.Z)(p,2),w=f[0],b=f[1].data,v=(b=void 0===b?{}:b).data,y=void 0===v?[]:v,k=(0,u.v9)(m.cc),j=(0,g.Z)(k,{representation:"date"}),Z=(0,L.TA)({initialValues:{productId:"",weight:0},validationSchema:dn.Ry({productId:dn.Z_().min(2,"Must be 2 characters or more").max(100,"Must be 100 characters or less").required("Required"),weight:dn.Z_().min(1,"min 1 char").max(7,"max 20 char").required("Required")}),onSubmit:function(n,e){var i=e.resetForm,r=n.weight;if(console.log({date:j,id:c,weight:r}),!j||!c||!r)return(0,G.Am)("Please fill all fields");var a={date:j,id:c,weight:r};t(a),(0,G.Am)("POST: ".concat(ln(a,null,2))),i()}}),P=(0,x.useMemo)((function(){return on()(w,500)}),[w]);return(0,x.useEffect)((function(){if(!(r.length<2))return P({title:r,limit:10}),function(){}}),[P,w,r]),(0,A.jsxs)(R,{onSubmit:Z.handleSubmit,children:[(0,A.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,A.jsx)(rn,{name:"productId",items:y,title:r,setTitle:a,onChange:Z.handleChange,productId:c,setSaveId:h}),(0,A.jsx)("p",{children:Z.errors.productId})]}),(0,A.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,A.jsx)(X,{variant:"standard",name:"weight",label:"weight",type:"text",minLength:1,maxLength:6,pattern:"\\d{1,6}",title:"min 1, max 6 digits",onChange:Z.handleChange,value:Z.values.weight,required:!0}),(0,A.jsx)("p",{children:Z.errors.weight})]}),(0,A.jsx)(Q,{color:"primary",variant:"contained",type:"submit",children:(0,A.jsx)(U,{})})]})},cn=JSON.parse('[{"title":"\u042f\u0439\u0446\u0430","weight":40,"kcal":100},{"title":"\u042f\u0431\u043b\u043e\u043a\u043e","weight":100,"kcal":80},{"title":"\u0425\u043b\u0435\u0431","weight":40,"kcal":120},{"title":"\u0421\u0443\u043f \u0441 \u0444\u0440\u0438\u043a\u0430\u0434\u0435\u043b\u044c\u043a\u0430\u043c\u0438","weight":200,"kcal":200},{"title":"\u041a\u0443\u0440\u0438\u043d\u0430\u044f \u0433\u0440\u0443\u0434\u043a\u0430","weight":100,"kcal":250},{"title":"\u0412\u0438\u0448\u043d\u0451\u0432\u044b\u0439 \u043a\u043e\u043c\u043f\u043e\u0442","weight":200,"kcal":80},{"title":"\u0410\u0432\u043e\u043a\u0430\u0434\u043e","weight":120,"kcal":540}]'),un=f.ZP.div.withConfig({displayName:"DiaryPageContentstyled__DiaryPageContentStyled",componentId:"sc-7qo01r-0"})(["display:flex;flex-direction:column;justify-content:center;width:320px;height:100%;padding:160px 20px 60px 20px;margin:0 auto;@media (min-width:","){padding:180px 32px 55px 32px;width:768px;}@media (min-width:","){align-items:center;justify-content:center;width:763px;padding:294px 32px 112px 32px;}"],(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop})),hn=f.ZP.div.withConfig({displayName:"DiaryPageContentstyled__DiaryPageStyled",componentId:"sc-7qo01r-1"})(["display:flex;flex-direction:column;gap:20px;"]),pn=function(){var n=c(),t=(0,d.Z)(n,1)[0];return(0,A.jsxs)(un,{children:[(0,A.jsxs)(hn,{children:[(0,A.jsx)(M,{}),(0,A.jsx)(sn,{addProduct:t})]}),(0,A.jsx)(N,{consumedProducts:cn})]})},mn=function(){return(0,A.jsxs)(o._,{children:[(0,A.jsx)(pn,{}),(0,A.jsx)(a.m,{})]})}}}]);
//# sourceMappingURL=746.b93fc9f2.chunk.js.map