"use strict";(self.webpackChunkslimmom_front_end=self.webpackChunkslimmom_front_end||[]).push([[154],{154:function(n,t,e){e.r(t),e.d(t,{default:function(){return vn}});var i,r,a=e(7737),o=e(366),d=e(885),c=e(5048),l=e(9513),u=e.n(l),s=e(4551),p=(e(8639),e(8558)),h=e(7939),m=e(2791),g=["title","titleId"];function x(){return x=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},x.apply(this,arguments)}function f(n,t){if(null==n)return{};var e,i,r=function(n,t){if(null==n)return{};var e,i,r={},a=Object.keys(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)>=0||(r[e]=n[e]);return r}(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function b(n,t){var e=n.title,a=n.titleId,o=f(n,g);return m.createElement("svg",x({width:20,height:20,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",ref:t,"aria-labelledby":a},o),e?m.createElement("title",{id:a},e):null,i||(i=m.createElement("path",{fill:"#9B9FAA",d:"M15 9h-2v2h2V9Zm-4 0H9v2h2V9ZM7 9H5v2h2V9Z"})),r||(r=m.createElement("path",{fill:"#9B9FAA",d:"M17 2h-1V0h-2v2H6V0H4v2H3a2 2 0 0 0-1.99 2L1 18a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Zm0 16H3V7h14v11Z"})))}var v,w,y,k,Z,j,P,D,C,_=m.forwardRef(b),I=(e.p,h.ZP.input.withConfig({displayName:"DiaryDateCalendarstyled__DateInputStyled",componentId:"sc-117nxvv-0"})(["max-width:130px;font-family:",";font-size:18px;font-style:normal;font-weight:700;line-height:",";color:",";border:none;@media screen and (min-width:","){font-size:34px;max-width:220px;}"],(function(n){return n.theme.fonts.verdanaBold}),(function(n){return n.theme.lineHeight.verdanaHeight}),(function(n){return n.theme.colors.$black}),(function(n){return n.theme.breakpoints.tablet}))),O=(0,h.ZP)(_).withConfig({displayName:"DiaryDateCalendarstyled__IconCalendar",componentId:"sc-117nxvv-1"})([""]),A=h.ZP.div.withConfig({displayName:"DiaryDateCalendarstyled__CalendarWrapper",componentId:"sc-117nxvv-2"})(["display:flex;align-items:center;gap:20px;@media screen and (min-width:","){gap:30px;}.react-datepicker__input-container{width:unset;}.react-datepicker-wrapper{width:unset;}"],(function(n){return n.theme.breakpoints.tablet})),M=e(184),F=function(){var n=(0,c.I0)(),t=(0,c.v9)(s.cc);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(A,{children:[(0,M.jsx)(u(),{selected:t,onChange:function(t){var e=(0,p.Z)(t,{representation:"date"});console.log(e),n((0,s.GS)(e))},dateFormat:"dd.MM.yyyy",customInput:(0,M.jsx)(I,{maxLength:"10"})}),(0,M.jsx)(O,{})]}),(0,M.jsx)("ul",{})]})},S=e(1543),E=e(9823),V=e(168),z=h.ZP.button(v||(v=(0,V.Z)(["\n  display: flex;\n  margin-bottom: ",";\n  padding-top: ",";\n  padding-bottom: ",";\n  padding-right: ",";\n  padding-left: ",";\n  background-color: transparent;\n  border: none;\n  border-radius: 50%;\n  box-shadow: none;\n  outline: none;\n  color: ",";\n  cursor: pointer;\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:active {\n    background-color: ",";\n    color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n  }\n\n  & .css-i4bv87-MuiSvgIcon-root {\n    width: 18px;\n    height: 18px;\n  }\n  @media (min-width: ",") {\n    margin-bottom: ",";\n    & .css-i4bv87-MuiSvgIcon-root {\n      width: 20px;\n      height: 20px;\n    }\n  }\n"])),(function(n){return(0,n.theme.spacing)(1)}),(function(n){return(0,n.theme.spacing)(1)}),(function(n){return(0,n.theme.spacing)(1)}),(function(n){return(0,n.theme.spacing)(1)}),(function(n){return(0,n.theme.spacing)(1)}),(function(n){return n.theme.colors.$grey}),(function(n){return n.theme.colors.$lightGrey}),(function(n){return n.theme.colors.$orange}),(function(n){return n.theme.colors.$white}),(function(n){return n.theme.colors.$lightGrey}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return(0,n.theme.spacing)(2)})),B=function(n){var t=n.type,e=void 0===t?"button":t,i=n.icon,r=n.onClick,a=void 0===r?function(){}:r,o=n.position,d=n.disabled;return(0,M.jsx)(z,{type:e,onClick:a,disabled:d,position:o,children:i})},H=h.ZP.li(w||(w=(0,V.Z)(["\n  display: flex;\n"]))),N=h.ZP.div(y||(y=(0,V.Z)(["\n  padding-top: ",";\n  padding-bottom: ",";\n  border-bottom: 1px solid ",";\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  &:not(:first-child) {\n    text-align: right;\n  }\n\n  &:first-child {\n    width: 130px;\n    margin-right: 8px;\n\n    @media (min-width: ",") {\n      width: 240px;\n      margin-right: 22px;\n    }\n  }\n\n  &:nth-child(2) {\n    width: 49px;\n    margin-right: 8px;\n    @media (min-width: ",") {\n      width: 106px;\n      margin-right: 46px;\n    }\n\n    @media (min-width: ",") {\n      width: 106px;\n      margin-right: 48px;\n    }\n  }\n\n  &:nth-child(3) {\n    width: 65px;\n    /* margin-right: 13px; */\n    @media (min-width: ",") {\n      width: 106px;\n      margin-right: 26px;\n    }\n  }\n\n  @media (min-width: ",") {\n    padding-top: ",";\n    padding-bottom: ",";\n  }\n"])),(function(n){return(0,n.theme.spacing)(5)}),(function(n){return(0,n.theme.spacing)(2)}),(function(n){return n.theme.colors.borderColor}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return(0,n.theme.spacing)(6)}),(function(n){return(0,n.theme.spacing)(5)})),q=h.ZP.span(k||(k=(0,V.Z)(["\n  margin-right: ",";\n"])),(function(n){return(0,n.theme.spacing)(1)})),$=h.ZP.span(Z||(Z=(0,V.Z)(["\n  font-size: 10px;\n\n  @media (min-width: ",") {\n    font-size: 14px;\n  }\n"])),(function(n){return n.theme.breakpoints.tablet})),G=h.ZP.div(j||(j=(0,V.Z)(["\n  display: flex;\n  align-items: flex-end;\n"]))),L=function(n){var t=n.title,e=n.weight,i=n.kcal,r=n.currentDate,a=n.productId,o=n.disabled,c=S.Am.useDeleteProductFromDateMutation(),l=(0,d.Z)(c,2),u=l[0],s=l[1].isLoading,p=s||(o||!1);return(0,M.jsxs)(H,{children:[(0,M.jsx)(N,{title:t,children:t}),(0,M.jsxs)(N,{children:[(0,M.jsx)(q,{children:e}),(0,M.jsx)($,{children:"g"})]}),(0,M.jsxs)(N,{children:[(0,M.jsx)(q,{children:i}),(0,M.jsx)($,{children:"kcal"})]}),(0,M.jsx)(G,{children:(0,M.jsx)(B,{type:"button",icon:(0,M.jsx)(E.Z,{}),onClick:function(){return u({currentDate:r,productId:a})},disabled:p})})]})},T=h.ZP.ul(P||(P=(0,V.Z)(["\n  //Scrollbar variables\n  --mask-height: 20px;\n  --padding-right: 40px;\n  --mask-image-content: linear-gradient(\n    to bottom,\n    white var(--mask-height),\n    white calc(100% - var(--mask-height)),\n    transparent\n  );\n  --mask-size-content: calc(100% - var(--scrollbar-width));\n  //end variables\n\n  display: flex;\n  flex-direction: column;\n  width: 300px;\n  height: 250px;\n  margin-top: ",";\n  margin-right: 5%;\n  font-size: 14px;\n  overflow-y: auto;\n\n  ::-webkit-scrollbar {\n    width: 6px;\n  }\n\n  ::-webkit-scrollbar-track {\n    background: ",";\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: ",";\n  }\n\n  mask-size: var(--mask-size-content);\n  mask-image: var(--mask-image-content);\n  mask-position: bottom 50px;\n  mask-repeat: no-repeat;\n\n  @media (min-width: 768px) {\n    width: 610px;\n    height: 244px;\n    padding-right: 32px;\n    margin-right: 0;\n  }\n\n  @media (min-width: 1280px) {\n    width: 623px;\n    height: 271px;\n  }\n"])),(function(n){return(0,n.theme.spacing)(8)}),(function(n){return n.theme.colors.$lightGrey}),(function(n){return n.theme.colors.$blue})),W=function(n){var t=n.products,e=n.currentDate,i=n.disabled;return(0,M.jsx)(T,{children:t.map((function(n){var t=n._id,r=n.title.ua,a=n.weight,o=n.kcal;return(0,M.jsx)(L,{title:r,weight:a,kcal:o,currentDate:e,productId:t,disabled:i},t)}))})},R=e(4165),K=e(5861),Q=e(5985),J=h.ZP.form.withConfig({displayName:"DiaryAddProductFormstyled__DiaryAddProductFormStyled",componentId:"sc-1ghxj2p-0"})(["display:flex;flex-direction:column;gap:32px;align-items:center;@media screen and (min-width:","){flex-direction:row;align-items:center;gap:40px;}@media screen and (min-width:","){gap:60px;}"],(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop})),U=h.ZP.div.withConfig({displayName:"DiaryAddProductFormstyled__FlexWrapper",componentId:"sc-1ghxj2p-1"})(["display:flex;flex-direction:column;gap:4px;"]),X=e(7630),Y=e(6151),nn=e(9603),tn=e(5763),en=(0,X.ZP)(nn.Z)({"& ":{minWidth:"240px"},"& label":{color:"#9B9FAA",fontFamily:"Verdana",fontWeight:700,fontSize:"14px",lineHeight:"1.2",letterSpacing:"0.04em"},"& label.Mui-focused":{color:"#FC842D"},"& .MuiInput-underline:before":{borderBottom:"1px solid #E0E0E0"},"& .MuiInput-underline:after":{borderBottomColor:"#FC842D"}}),rn=(0,X.ZP)(Y.Z)(D||(D=(0,V.Z)(["\n  min-width: 48px;\n  height: 48px;\n  padding: 17px;\n  font-family: 'Verdana';\n\n  font-size: 14px;\n  font-weight: 700;\n  text-transform: none;\n\n  background: #fc842d;\n  border-radius: 30px;\n  box-shadow: 0 4px 10px rgba(252, 132, 45, 0.5);\n\n  &:hover {\n    background: #e76000;\n    transform: scale(1.1);\n  }\n\n  @media screen and (min-width: 768px) {\n    /* margin: 60px 0 0; */\n  }\n"]))),an=(0,X.ZP)(tn.ueT)(C||(C=(0,V.Z)([""]))),on=e(1413),dn=e(2409),cn=e(3329),ln=function(n){var t=n.items,e=n.setProductId,i=n.inputValue,r=n.onInputChange;return(0,M.jsx)(dn.Z,{id:"possible_products",getOptionLabel:function(n){var t,e,i;return null!==(t=(null===(e=n.title)||void 0===e?void 0:e.ua)||(null===(i=n.title)||void 0===i?void 0:i.ru))&&void 0!==t?t:""},isOptionEqualToValue:function(n,t){return n._id===t._id},options:t,sx:{width:300},noOptionsText:"Np products matches",renderOption:function(n,t){var e,i;return(0,m.createElement)(cn.Z,(0,on.Z)((0,on.Z)({component:"li"},n),{},{key:t._id}),(null===(e=t.title)||void 0===e?void 0:e.ua)||(null===(i=t.title)||void 0===i?void 0:i.ru))},renderInput:function(n){return(0,M.jsx)(nn.Z,(0,on.Z)((0,on.Z)({},n),{},{label:"Enter product name"}))},onChange:function(n,t){e(null===t||void 0===t?void 0:t._id)},inputValue:i,onInputChange:r,filterOptions:function(n){return n},groupBy:function(n){var t;return null===(t=n.categories)||void 0===t?void 0:t[0]},clearOnBlur:!1,selectOnFocus:!0,handleHomeEndKeys:!0,autoHighlight:!0})},un=e(8573),sn=e.n(un),pn=e(4929),hn=(0,pn.Ry)({weight:(0,pn.Rx)().min(1,"min 1 gram").max(1e4,"max 10,000 grams").positive("expects positive number").integer("expects integer (no dot)").required("Weight required"),id:(0,pn.Z_)().min(1,"id min 1 char").max(1024,"id max 1024 char").required("Product id (name) required"),date:(0,pn.hT)().min(new Date(2e3,0,1),"min 2020 year").default((function(){return(0,p.Z)(new Date,{representation:"date"})}))}),mn=function(n){var t=n.addProduct,e=(0,m.useState)(""),i=(0,d.Z)(e,2),r=i[0],a=i[1],o=(0,m.useState)(""),l=(0,d.Z)(o,2),u=l[0],h=l[1],g=(0,S.jM)(),x=(0,d.Z)(g,2),f=x[0],b=x[1].data,v=(b=void 0===b?{}:b).data,w=void 0===v?[]:v,y=(0,c.v9)(s.cc),k=(0,p.Z)(y,{representation:"date"}),Z=function(){var n=(0,K.Z)((0,R.Z)().mark((function n(e){var i,r,a,o;return(0,R.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),i=e.target,r=new FormData(i),a=Number(r.get("weight").trim()),k&&u&&a){n.next=6;break}return n.abrupt("return",(0,Q.Am)("Please fill date, productName and weight"));case 6:return o={date:k,id:u,weight:a},n.prev=7,n.next=10,hn.validate(o);case 10:return n.next=12,t(o);case 12:(0,Q.Am)(o),i.reset(),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(7),(0,Q.Am)("Not added: ".concat(n.t0.message)),console.log(n.t0);case 20:case"end":return n.stop()}}),n,null,[[7,16]])})));return function(t){return n.apply(this,arguments)}}(),j=(0,m.useMemo)((function(){return sn()(f,500)}),[f]);return(0,m.useEffect)((function(){r.length&&j({title:r,limit:10})}),[j,f,r]),(0,M.jsxs)(J,{onSubmit:Z,children:[(0,M.jsx)(ln,{items:w,setProductId:h,inputValue:r,onInputChange:function(n,t){return a(t)}}),(0,M.jsx)(U,{children:(0,M.jsx)(en,{variant:"standard",name:"weight",label:"Grams",type:"text",title:"min 1, max 6 digits",inputProps:{inputMode:"numeric",pattern:"[0-9]{1,6}"},required:!0})}),(0,M.jsx)(rn,{color:"primary",variant:"contained",type:"submit",children:(0,M.jsx)(an,{})})]})},gn=e(7325),xn=(h.ZP.div.withConfig({displayName:"DiaryPageContentstyled__DiaryPageContentStyled",componentId:"sc-7qo01r-0"})(["display:flex;flex-direction:column;justify-content:center;width:320px;min-height:460px;height:100%;padding:40px 20px 60px 20px;margin:0 auto;@media (min-width:","){padding:180px 32px 55px 32px;width:768px;min-height:594px;}@media (min-width:","){align-items:center;justify-content:center;width:763px;min-height:850px;padding:294px 32px 112px 32px;}"],(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop})),h.ZP.div.withConfig({displayName:"DiaryPageContentstyled__DiaryPageStyled",componentId:"sc-7qo01r-1"})(["display:flex;flex-direction:column;gap:20px;"])),fn=e(4690),bn=function(){var n=S.Am.useAddProductMutation(),t=(0,d.Z)(n,2),e=t[0],i=t[1].isLoading,r=(0,c.v9)((function(n){return n.calendar.activeDate})),a=S.Am.useGetProductsByDateQuery(r),l=a.data,u=void 0===l?{}:l,p=a.isLoading,h=u.data,g=(h=void 0===h?{}:h).consumedProducts,x=void 0===g?[]:g,f=function(){var n=(0,c.v9)(s.cc);return(0,m.useMemo)((function(){var t=new Date(n).getTime(),e=(new Date).getTime();return t>e||(0,fn.default)(t,e)}),[n])}();return console.log(f),(0,M.jsx)(o.qm,{children:(0,M.jsxs)(xn,{children:[(0,M.jsx)(F,{}),f&&(0,M.jsx)(mn,{addProduct:e}),p||i?(0,M.jsx)(gn.$j,{}):Boolean(x.length)?(0,M.jsx)(W,{products:x,currentDate:r,disabled:!f}):(0,M.jsx)("h1",{children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0432\u044b \u0435\u0449\u0451 \u043d\u0435 \u0435\u043b\u0438!"})]})})},vn=function(){return(0,M.jsxs)(o._z,{children:[(0,M.jsx)(bn,{}),(0,M.jsx)(a.m,{})]})}}}]);
//# sourceMappingURL=154.224576ad.chunk.js.map