"use strict";(self.webpackChunkslimmom_front_end=self.webpackChunkslimmom_front_end||[]).push([[867],{2867:function(n,t,i){i.d(t,{m:function(){return en}});var e=i(885),r=i(168),a=i(7939),o=i(2791);var d=i.p+"static/media/Layer-4.a8eee669b7640dcc5a9c4e67d35fa9c6.svg";var u,l,s,c,p,h,x,f,m,g,v,y=i.p+"static/media/Layer-5.02bd20ea58ab3bc0124fa64536fa81b0.svg",b=a.ZP.div(u||(u=(0,r.Z)(["\n  font-weight: 400;\n  font-size: 14px;\n  line-height: ",";\n  color: ",";\n  background-color: ",";\n  display: flex;\n  justify-content: center;\n"])),(function(n){return n.theme.lineHeight.verdanaHeight}),(function(n){return n.theme.colors.$grey}),(function(n){return n.theme.colors.$lightGrey})),j=a.ZP.div(l||(l=(0,r.Z)(["\n  background-repeat: no-repeat;\n  padding: 40px 15px 84px 20px;\n\n  @media (min-width: 768px) {\n    width: 768px;\n    min-height: 350px;\n    display: flex;\n    justify-content: flex-start;\n    padding: 91px 10px 91px 87px;\n\n    background-size: 369px 350px;\n    background-position: 399px bottom;\n    background-image: url(",");\n  }\n\n  @media (min-width: 1280px) {\n    width: 517px;\n    min-height: 850px;\n    height: 100vh;\n    padding: 292px 0 0 106px;\n    flex-direction: column;\n    justify-content: flex-start;\n\n    background-size: 505px 815px;\n    background-position: 35px 12px;\n    background-image: url(",");\n  }\n"])),y,d),Z=a.ZP.div(s||(s=(0,r.Z)(["\n  width: 285px;\n\n  @media (min-width: 768px) {\n    width: 350px;\n  }\n\n  &:first-child {\n    width: 280px;\n    margin-bottom: 40px;\n\n    @media (min-width: 768px) {\n      width: 252px;\n      margin-bottom: 0px;\n      margin-right: 60px;\n    }\n\n    @media (min-width: 1280px) {\n      width: 270px;\n      margin-bottom: 60px;\n      margin-left: 0px;\n    }\n  }\n"]))),w=i(184),P=function(n){var t=n.children;return(0,w.jsx)(b,{children:t})},L=function(n){var t=n.children;return(0,w.jsx)(j,{children:t})},k=function(n){var t=n.children;return(0,w.jsx)(Z,{children:t})},D=(i(3158),i(6373)),M=function(){return(0,w.jsx)(D.g4,{color:"grey",width:"30px",height:"30px"})},R=a.ZP.td(c||(c=(0,r.Z)(["\n  display: flex;\n  align-items: flex-start;\n  justify-content: flex-end;\n  width: 130px;\n\n  color: ",";\n"])),(function(n){return n.number?"inherit":n.theme.colors.$orange})),C=a.ZP.span(p||(p=(0,r.Z)(["\n  margin-left: 5px;\n  width: 27px;\n"]))),E=function(n){var t=n.data,i=t.userData,e=t.unit,r=n.showData,a="kcal"===e?String(i).padStart(3,"0"):i;return(0,w.jsxs)(R,{number:a>=0,children:[r&&(0,w.jsx)(w.Fragment,{children:a}),r&&(0,w.jsx)(C,{children:e}),!r&&(0,w.jsx)(M,{})]})},T=a.ZP.th(h||(h=(0,r.Z)(["\n  text-align: left;\n  width: 150px;\n  border-right: 20px solid transparent;\n  padding-bottom: 14px;\n  font-weight: 400;\n  font-size: 14px;\n"]))),z=a.ZP.tr(x||(x=(0,r.Z)(["\n  &:last-child "," {\n    padding-bottom: 0px;\n  }\n"])),T),A=function(n){var t=n.data,i=n.unit,r=void 0===i?"kcal":i,a=n.head,o=(0,e.Z)(t,2),d=o[0],u=void 0===d?null:d,l=o[1],s=u||"000";return(0,w.jsxs)(z,{children:[(0,w.jsx)(T,{children:a}),(0,w.jsx)(E,{data:{userData:s,unit:r},showData:!l})]})},G=a.ZP.table(f||(f=(0,r.Z)(["\n  font-family: 'Verdana';\n  border-collapse: collapse;\n"]))),N=function(n){var t=n.children;return(0,w.jsx)(G,{children:(0,w.jsx)("tbody",{children:t})})},S=function(n){var t=n.data,i=n.isLoading,e=t.left,r=t.consumed,a=t.dailyRate,o=t.percente;return(0,w.jsxs)(N,{children:[(0,w.jsx)(A,{data:[e,i],head:"Left"}),(0,w.jsx)(A,{data:[r,i],head:"Consumed"}),(0,w.jsx)(A,{data:[a,i],head:"Daily rate"}),(0,w.jsx)(A,{data:[o,i],head:"n% of normal",unit:"%"})]})},F=i(5048),W=i(1543),$=i(6386),_=i(9831),B=function(n){return(0,$.Z)((0,_.Z)(n),"MM/dd/yyyy")},V=i(1014),q={dailyData:{left:null,consumed:null,dailyRate:null,percente:null},bannedProducts:{}},H=function(n){var t=(0,o.useState)(q),i=(0,e.Z)(t,2),r=i[0],a=i[1],d=function(){var n,t=(0,F.v9)((function(n){return n.calendar.activeDate})),i=W.Am.useGetProductsByDateQuery(t),e=i.data,r=i.isLoading;return{consumed:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.total,date:B(t),isLoadingConsumed:r}}(),u=d.consumed,l=d.date,s=d.isLoadingConsumed,c=function(){var n,t,i=W.py.useGetPrivateDailyNormaMutation(),r=(0,e.Z)(i,2),a=r[0],d=r[1],u=d.data,l=d.isLoading,s=(0,F.v9)(V.is);return(0,o.useEffect)((function(){if(s){var n=s.currentWeight,t=s.height,i=s.age,e=s.desiredWeight,r=s.bloodType;a({currentWeight:n,height:t,age:i,desiredWeight:e,bloodType:r})}}),[a,s]),{userDailyRate:null===u||void 0===u||null===(n=u.results)||void 0===n?void 0:n.dailyRate,products:null===u||void 0===u||null===(t=u.results)||void 0===t?void 0:t.bannedProducts,isLoadingNorma:l}}(),p=c.userDailyRate,h=c.products,x=c.isLoadingNorma,f=s||x;return(0,o.useEffect)((function(){var t,i,e=(null===n||void 0===n||null===(t=n.results)||void 0===t?void 0:t.dailyRate)||p,r=(null===n||void 0===n||null===(i=n.results)||void 0===i?void 0:i.bannedProducts)||h,o=e&&u>=0,d=o?100*u/e:null;a({dailyData:{left:o?e-u:null,consumed:u,dailyRate:e,percente:Math.round(d)},bannedProducts:r})}),[u,h,p,n]),[r,l,f]},I=function(n,t){return n.total===n.totalInBase?"\u0412\u0441\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0438 \u0438\u0437 \u0433\u0440\u0443\u043f\u044b: ".concat(t,"."):null},O=function(n,t){return n.total>n.totalInBase/2?"\u0411\u043e\u043b\u044c\u0448\u0435\u043d\u0441\u0442\u0432\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432 \u0438\u0437 \u0433\u0440\u0443\u043f\u044b: ".concat(t,"."):null},Q=function(n,t){var i=n.total,e=n.products,r=void 0===e?[]:e,a=null===r||void 0===r?void 0:r.map((function(n){return n.title.ru})).join(", ");return i<=4?"\u041d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b \u0438\u0437 \u0433\u0440\u0443\u043f\u044b: ".concat(t," (").concat(a,")."):null},U=function(n){return(t=n,t[0]=t[0][0].toUpperCase()+t[0].substring(1),t).join(", ");var t},Y=a.ZP.ul(m||(m=(0,r.Z)(["\n  font-family: 'Verdana';\n"]))),J=a.ZP.li(g||(g=(0,r.Z)(["\n  padding-bottom: 14px;\n\n  &:last-child {\n    padding-bottom: 0;\n  }\n"]))),K=function(n){var t=n.productList;return(0,w.jsx)(w.Fragment,{children:null===t||void 0===t?void 0:t.map((function(n,t){return(0,w.jsx)(J,{children:n},t)}))})},X=function(n){var t=n.foodList,i=n.isLoading,e=(0,o.useMemo)((function(){return function(n){if(n){var t=[],i=[];return Object.keys(n).forEach((function(e){var r=I(n[e],e)||Q(n[e],e)||O(n[e],e)||null;r&&t.push(r),r||i.push(e)})),i.length>0&&t.push(U(i)),t}}(null===t||void 0===t?void 0:t.categories)}),[t]),r=(null===e||void 0===e?void 0:e.length)>0;return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(Y,{children:[i&&(0,w.jsx)(M,{}),r&&!i&&(0,w.jsx)(K,{productList:e}),!r&&!i&&"Your diet will be displayed here"]})})},nn=a.ZP.h3(v||(v=(0,r.Z)(["\n  font-family: 'Verdana';\n  font-size: 14px;\n  font-weight: 700;\n  color: ",";\n  margin-bottom: 20px;\n\n  @media (min-width: 768px) {\n    margin-bottom: 22px;\n  }\n\n  @media (min-width: 1280px) {\n    margin-bottom: 20px;\n  }\n"])),(function(n){return n.theme.colors.$black})),tn=function(n){var t=n.text;return(0,w.jsx)(nn,{children:t})},en=function(n){var t=n.userData,i=H(t),r=(0,e.Z)(i,3),a=r[0],o=r[1],d=r[2];return(0,w.jsx)(P,{children:(0,w.jsxs)(L,{children:[(0,w.jsxs)(k,{children:[(0,w.jsx)(tn,{text:"Summary for ".concat(o)}),(0,w.jsx)(S,{data:a.dailyData,isLoading:d})]}),(0,w.jsxs)(k,{children:[(0,w.jsx)(tn,{text:"Food not recommended"}),(0,w.jsx)(X,{foodList:a.bannedProducts,isLoading:d})]})]})})}},1543:function(n,t,i){i.d(t,{Am:function(){return r.A},jM:function(){return e},py:function(){return a}});var e=i(5066).baseApi.injectEndpoints({endpoints:function(n){return{getProducts:n.mutation({query:function(n){return{url:"/products/",method:"GET",params:{title:n.title,limit:n.limit}}},providesTags:["Products"]})}}}).useGetProductsMutation,r=i(1988),a=i(5066).baseApi.injectEndpoints({endpoints:function(n){return{getPrivateDailyNorma:n.mutation({query:function(n){return{url:"/users/daily-norma/private",method:"POST",body:n}},invalidatesTags:["PrivatDailyNorma"]})}}})}}]);
//# sourceMappingURL=867.2037a1da.chunk.js.map