"use strict";(self.webpackChunkslimmom_front_end=self.webpackChunkslimmom_front_end||[]).push([[528],{6893:function(n,e,t){t.d(e,{o:function(){return s}});var i=t(5708),r=t(4164),o=t(3895),a=t(1642),d=t(184),l=(0,o.H)().mobileModalRoot,s=function(n){var e=n.onClose,t=n.children;return(0,i.oS)(),(0,i.Dj)(e),(0,r.createPortal)((0,d.jsx)(a.hZ,{children:(0,d.jsx)(a.dX,{children:t})}),l)}},2054:function(n,e,t){t.r(e),t.d(e,{default:function(){return Tn}});var i,r,o,a,d,l,s,c,u,p,m=t(2867),h=t(366),f=t(9439),x=t(2791),g=t(3452),v=t(890),b=t(9823),w=t(541),y=t(168),Z=t(7939),j=t(5473),k=Z.ZP.li(i||(i=(0,y.Z)(["\n  display: flex;\n  &:not(:first-child) {\n    padding-top: ",";\n  }\n"])),(function(n){return(0,n.theme.spacing)(4)})),P=Z.ZP.div(r||(r=(0,y.Z)(["\n  position: relative;\n  border-bottom: 1px solid ",";\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  &:not(:first-child) {\n    text-align: right;\n  }\n\n  &:first-child {\n    width: 130px;\n    margin-right: 8px;\n\n    @media (min-width: ",") {\n      width: 240px;\n      margin-right: 22px;\n    }\n  }\n\n  &:nth-child(2) {\n    width: 49px;\n    margin-right: 8px;\n    @media (min-width: ",") {\n      width: 106px;\n      margin-right: 46px;\n    }\n\n    @media (min-width: ",") {\n      width: 106px;\n      margin-right: 48px;\n    }\n  }\n\n  &:nth-child(3) {\n    width: 65px;\n    @media (min-width: ",") {\n      width: 106px;\n      margin-right: 26px;\n    }\n  }\n\n  @media (min-width: ",") {\n    padding-bottom: ",";\n  }\n"])),(function(n){return n.theme.colors.borderColor}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return(0,n.theme.spacing)(5)})),M=Z.ZP.span(o||(o=(0,y.Z)(["\n  margin-right: ",";\n"])),(function(n){return(0,n.theme.spacing)(1)})),C=Z.ZP.span(a||(a=(0,y.Z)(["\n  font-size: 10px;\n\n  @media (min-width: ",") {\n    font-size: 14px;\n  }\n"])),(function(n){return n.theme.breakpoints.tablet})),D=Z.ZP.div(d||(d=(0,y.Z)(["\n  display: flex;\n  align-items: flex-end;\n  margin-bottom: ",";\n"])),(function(n){return(0,n.theme.spacing)(1)})),I=(0,Z.ZP)(j.ZP)(l||(l=(0,y.Z)(["\n  & .MuiPaper-root {\n    background-color: ",";\n  }\n\n  & .MuiTypography-root {\n    font-size: 14px;\n  }\n"])),(function(n){return n.theme.colors.$lightGrey})),O=t(3168),_=t(184),S=function(n){var e=n.title,t=n.weight,i=n.kcal,r=n.currentDate,o=n.productId,a=n.disabled,d=n.getNotifyData,l=(0,O.$)().t,s=(0,x.useState)(null),c=(0,f.Z)(s,2),u=c[0],p=c[1],m=g.Am.useDeleteProductFromDateMutation(),h=(0,f.Z)(m,2),y=h[0],Z=h[1].isLoading,j=Z||(a||!1),S=Boolean(u),z=S?"simple-popover":void 0;return(0,_.jsxs)(k,{children:[(0,_.jsx)(P,{onClick:function(n){p(n.currentTarget)},children:e}),(0,_.jsx)(I,{id:z,open:S,anchorEl:u,onClose:function(){p(null)},anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"},children:(0,_.jsx)(v.Z,{sx:{p:1},children:e})}),(0,_.jsxs)(P,{children:[(0,_.jsx)(M,{children:t}),(0,_.jsx)(C,{children:l("g")})]}),(0,_.jsxs)(P,{children:[(0,_.jsx)(M,{children:i}),(0,_.jsx)(C,{children:l("kcal")})]}),(0,_.jsx)(D,{children:(0,_.jsx)(w.Z,{icon:(0,_.jsx)(b.Z,{}),onClick:function(){d({title:e,deleteProduct:y,deletingInfo:{currentDate:r,productId:o}})},disabled:j,iconColor:"$grey",hoverIconColor:"$grey"})})]})},z=Z.ZP.ul(s||(s=(0,y.Z)(["\n  //Scrollbar variables\n  --mask-height: 40px;\n  --padding-right: 40px;\n  --mask-image-content: linear-gradient(\n    to bottom,\n    white var(--mask-height),\n    white calc(100% - var(--mask-height)),\n    transparent\n  );\n  --mask-size-content: calc(100% - var(--scrollbar-width));\n  //end variables\n\n  display: flex;\n  flex-direction: column;\n  width: 300px;\n  height: 220px;\n  margin-top: ",";\n  margin-right: 5%;\n  font-size: 14px;\n  overflow-y: auto;\n\n  ::-webkit-scrollbar {\n    width: 6px;\n  }\n\n  ::-webkit-scrollbar-track {\n    background: ",";\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: ",";\n  }\n\n  mask-size: var(--mask-size-content);\n  mask-image: var(--mask-image-content);\n  mask-position: bottom 40px;\n  mask-repeat: no-repeat;\n\n  @media (min-width: 768px) {\n    width: 610px;\n    height: 260px;\n    padding-right: 32px;\n    margin-right: 0;\n  }\n\n  @media (min-width: 1280px) {\n    width: 623px;\n    height: 306px;\n  }\n"])),(function(n){return(0,n.theme.spacing)(8)}),(function(n){return n.theme.colors.$lightGrey}),(function(n){return n.theme.colors.$blue})),A=function(n){var e=n.products,t=n.currentDate,i=n.disabled,r=n.getNotifyData,o=n.onOpenModal;return(0,_.jsx)(z,{children:e.map((function(n){var e=n._id,a=n.title.ua,d=n.weight,l=n.kcal;return(0,_.jsx)(S,{title:a,weight:d,kcal:l,currentDate:t,productId:e,disabled:i,getNotifyData:r,onOpenModa:o},e)}))})},F=t(7325),B=(Z.ZP.div.withConfig({displayName:"DiaryPageContentstyled__DiaryPageContentStyled",componentId:"sc-7qo01r-0"})(["display:flex;flex-direction:column;justify-content:center;width:320px;height:460px;height:100%;padding:40px 20px 60px 20px;margin:0 auto;@media (min-width:","){padding:180px 32px 55px 32px;width:768px;min-height:594px;}@media (min-width:","){align-items:center;justify-content:center;width:763px;min-height:850px;padding:294px 32px 112px 32px;}"],(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop})),Z.ZP.div.withConfig({displayName:"DiaryPageContentstyled__DiaryPageStyled",componentId:"sc-7qo01r-1"})(["display:flex;flex-direction:column;gap:20px;"])),N=t(5048),$=t(4690),T=t(7582),V=Z.ZP.p(c||(c=(0,y.Z)(["\n  position: relative;\n  margin-top: 20px;\n  font-weight: 700;\n  font-size: 18px;\n  animation-name: appearence;\n  animation-duration: ",";\n  animation-timing-function: ",";\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 6px;\n    height: 100%;\n    background-color: ",";\n    opacity: 0.5;\n    transform: translateX(-50px) skewX(-45deg);\n    animation-name: blink;\n    animation-duration: 750ms;\n    animation-timing-function: ease-out;\n    animation-delay: 500ms;\n  }\n\n  @keyframes blink {\n    from {\n      transform: translateX(-50px) skewX(-45deg);\n    }\n\n    to {\n      transform: translateX(5000%) skewX(-45deg);\n    }\n  }\n\n  @keyframes appearence {\n    from {\n      font-size: 0px;\n      margin-top: 0px;\n    }\n\n    to {\n      opacity: 1;\n      font-size: 18px;\n      margin-top: 20px;\n    }\n  }\n"])),(function(n){return n.theme.options.time}),(function(n){return n.theme.options.cubic}),(function(n){return n.theme.colors.$white})),E=function(){var n=(0,O.$)().t;return(0,_.jsx)(V,{children:n("empty")})},H=t(1413),q=t(8558),L=t(5739),X=t(6571),G=t(3540),R=t(2697),W=t(2051),K=t.n(W),Q=t(7391),U=t(3466),J=t(3400),Y=["title","titleId"];function nn(){return nn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nn.apply(this,arguments)}function en(n,e){if(null==n)return{};var t,i,r=function(n,e){if(null==n)return{};var t,i,r={},o=Object.keys(n);for(i=0;i<o.length;i++)t=o[i],e.indexOf(t)>=0||(r[t]=n[t]);return r}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)t=o[i],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function tn(n,e){var t=n.title,i=n.titleId,r=en(n,Y);return x.createElement("svg",nn({width:20,height:20,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",ref:e,"aria-labelledby":i},r),t?x.createElement("title",{id:i},t):null,u||(u=x.createElement("path",{fill:"#9B9FAA",d:"M15 9h-2v2h2V9Zm-4 0H9v2h2V9ZM7 9H5v2h2V9Z"})),p||(p=x.createElement("path",{fill:"#9B9FAA",d:"M17 2h-1V0h-2v2H6V0H4v2H3a2 2 0 0 0-1.99 2L1 18a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Zm0 16H3V7h14v11Z"})))}var rn,on,an,dn,ln=x.forwardRef(tn),sn=(t.p,Z.ZP.input.withConfig({displayName:"DiaryDateCalendarstyled__DateInputStyled",componentId:"sc-117nxvv-0"})(["max-width:130px;font-family:",";font-size:18px;font-style:normal;font-weight:700;line-height:",";color:",";border:none;@media screen and (min-width:","){font-size:34px;max-width:220px;}"],(function(n){return n.theme.fonts.verdanaBold}),(function(n){return n.theme.lineHeight.verdanaHeight}),(function(n){return n.theme.colors.$black}),(function(n){return n.theme.breakpoints.tablet})),(0,Z.ZP)(ln).withConfig({displayName:"DiaryDateCalendarstyled__IconCalendar",componentId:"sc-117nxvv-1"})([""])),cn=Z.ZP.div.withConfig({displayName:"DiaryDateCalendarstyled__CalendarWrapper",componentId:"sc-117nxvv-2"})(["display:flex;align-items:center;max-width:160;@media screen and (min-width:","){max-width:300px;}.react-datepicker__input-container{width:unset;}.react-datepicker-wrapper{width:unset;}"],(function(n){return n.theme.breakpoints.tablet})),un=function(){var n=(0,N.I0)(),e=new Date((0,N.v9)(T.cc)),t=(0,x.useState)(e),i=(0,f.Z)(t,2),r=i[0],o=i[1],a=(0,x.useState)(!1),d=(0,f.Z)(a,2),l=d[0],s=d[1],c=function(){return s((function(n){return!n}))},u=(0,x.useCallback)((function(n){o(n)}),[]),p=K()(),m=(0,f.Z)(p,2),h=m[0],g=m[1].width<1280,v=!g;return(0,x.useEffect)((function(){var e=(0,q.Z)(r,{representation:"date"});n((0,T.GS)(e))}),[r,n]),(0,_.jsx)(cn,{children:(0,_.jsxs)(X._,{dateAdapter:L.Z,children:[h,v&&(0,_.jsx)(G.$,{inputFormat:"dd.MM.yyyy",value:r,onChange:u,open:l,onOpen:c,onClose:c,renderInput:function(n){return(0,_.jsx)(Q.Z,(0,H.Z)((0,H.Z)({variant:"standard"},n),{},{InputProps:{endAdornment:(0,_.jsx)(U.Z,{position:"end",children:(0,_.jsx)(J.Z,{edge:"end",onClick:c,children:(0,_.jsx)(sn,{})})})}}))}}),g&&(0,_.jsx)(R.O,{inputFormat:"dd.MM.yyyy",value:r,onChange:u,open:l,onOpen:c,onClose:c,closeOnSelect:!0,renderInput:function(n){return(0,_.jsx)(Q.Z,(0,H.Z)((0,H.Z)({variant:"standard"},n),{},{InputProps:{endAdornment:(0,_.jsx)(U.Z,{position:"end",children:(0,_.jsx)(J.Z,{edge:"end",onClick:c,children:(0,_.jsx)(sn,{})})})}}))}})]})})},pn=function(){return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(un,{}),(0,_.jsx)("ul",{})]})},mn=(0,x.memo)(pn),hn=t(4165),fn=t(5861),xn=t(5985),gn=Z.ZP.form.withConfig({displayName:"DiaryAddProductFormstyled__DiaryAddProductFormStyled",componentId:"sc-1ghxj2p-0"})(["display:flex;flex-direction:column;gap:32px;align-items:center;@media screen and (min-width:","){flex-direction:row;align-items:center;gap:40px;}@media screen and (min-width:","){gap:60px;}"],(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop})),vn=Z.ZP.div.withConfig({displayName:"DiaryAddProductFormstyled__FlexWrapper",componentId:"sc-1ghxj2p-1"})(["display:flex;flex-direction:column;gap:4px;"]),bn=t(6151),wn=t(5763),yn=(0,Z.ZP)(Q.Z)(rn||(rn=(0,y.Z)(["\n  & {\n    // marginBottom: '20px',\n    min-width: 240px;\n  }\n\n  & label {\n    color: #9b9faa;\n    font-family: ",";\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 1.2;\n    letter-spacing: 0.04em;\n  }\n\n  & label.Mui-focused {\n    color: #fc842d;\n  }\n\n  & .MuiInput-underline:before {\n    border-bottom: 1px solid #e0e0e0;\n  }\n\n  & .MuiInput-underline:after {\n    border-bottom-color: #fc842d;\n  }\n"])),(function(n){return n.theme.fonts.verdanaBold})),Zn=(0,Z.ZP)(bn.Z)(on||(on=(0,y.Z)(["\n  && {\n    align-self: center;\n\n    min-width: 48px;\n    height: 48px;\n    padding: 17px;\n\n    font-family: ",";\n    font-size: 14px;\n    font-weight: 700;\n    text-transform: none;\n\n    background: #fc842d;\n    border-radius: 30px;\n    box-shadow: 0 4px 10px rgba(252, 132, 45, 0.5);\n\n    &:hover {\n      background: #e76000;\n      transform: scale(1.1);\n    }\n\n    @media screen and (min-width: 768px) {\n      /* margin: 60px 0 0; */\n    }\n  }\n"])),(function(n){return n.theme.fonts.verdanaBold})),jn=(0,Z.ZP)(wn.ueT)(an||(an=(0,y.Z)([""]))),kn=t(7227),Pn=t(3329),Mn=function(n){var e=n.items,t=n.setProductId,i=n.inputValue,r=n.onInputChange,o=(0,O.$)().t,a=e.map((function(n){var e=n.title.ua[0].toUpperCase();return(0,H.Z)({firstLetter:/[0-9]/.test(e)?"0-9":e},n)}));return(0,_.jsx)(kn.Z,{id:"possible_products",getOptionLabel:function(n){var e,t,i;return null!==(e=(null===(t=n.title)||void 0===t?void 0:t.ua)||(null===(i=n.title)||void 0===i?void 0:i.ru))&&void 0!==e?e:""},isOptionEqualToValue:function(n,e){return n._id===e._id},options:null===a||void 0===a?void 0:a.sort((function(n,e){var t;return-(null===(t=e.firstLetter)||void 0===t?void 0:t.localeCompare(n.firstLetter))})),sx:{width:300},noOptionsText:o("noMatch"),renderOption:function(n,e){var t,i;return(0,x.createElement)(Pn.Z,(0,H.Z)((0,H.Z)({component:"li"},n),{},{key:e._id}),(null===(t=e.title)||void 0===t?void 0:t.ua)||(null===(i=e.title)||void 0===i?void 0:i.ru))},renderInput:function(n){return(0,_.jsx)(Q.Z,(0,H.Z)((0,H.Z)({variant:"standard"},n),{},{label:o("enter")}))},onChange:function(n,e){t(null===e||void 0===e?void 0:e._id)},inputValue:i,onInputChange:r,filterOptions:function(n){return n},groupBy:function(n){return n.firstLetter},clearOnBlur:!1,selectOnFocus:!0,handleHomeEndKeys:!0,autoHighlight:!0})},Cn=t(8573),Dn=t.n(Cn),In=t(7942),On=(0,In.Ry)({weight:(0,In.Rx)().min(1,"min 1 gram").max(1e4,"max 10,000 grams").positive("expects positive number").integer("expects integer (no dot)").required("Weight required"),id:(0,In.Z_)().min(1,"id min 1 char").max(1024,"id max 1024 char").required("Product id (name) required"),date:(0,In.hT)().min(new Date(2e3,0,1),"min 2020 year").default((function(){return(0,q.Z)(new Date,{representation:"date"})}))}),_n=function(){},Sn=function(n){var e=n.addProduct,t=n.toggleMobileModal,i=void 0===t?_n:t,r=n.isMobile,o=void 0!==r&&r,a=(0,O.$)().t,d=(0,x.useState)(""),l=(0,f.Z)(d,2),s=l[0],c=l[1],u=(0,x.useState)(""),p=(0,f.Z)(u,2),m=p[0],h=p[1],v=(0,g.jM)(),b=(0,f.Z)(v,2),w=b[0],y=b[1].data,Z=(y=void 0===y?{}:y).data,j=void 0===Z?[]:Z,k=(0,N.v9)(T.cc),P=(0,q.Z)(k,{representation:"date"}),M=function(){var n=(0,fn.Z)((0,hn.Z)().mark((function n(t){var r,a,d,l;return(0,hn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),r=t.target,a=new FormData(r),d=Number(a.get("weight").trim()),P&&m&&d){n.next=6;break}return n.abrupt("return",(0,xn.Am)("Please fill date, productName and weight"));case 6:return l={date:P,id:m,weight:d},n.prev=7,n.next=10,On.validate(l);case 10:return n.next=12,e(l);case 12:(0,xn.Am)(l),r.reset(),o&&i(),n.next=21;break;case 17:n.prev=17,n.t0=n.catch(7),(0,xn.Am)("Not added: ".concat(n.t0.message)),console.log(n.t0);case 21:case"end":return n.stop()}}),n,null,[[7,17]])})));return function(e){return n.apply(this,arguments)}}(),C=(0,x.useMemo)((function(){return Dn()(w,500)}),[w]);return(0,x.useEffect)((function(){s.length&&C({title:s,limit:10})}),[C,w,s]),(0,_.jsxs)(gn,{onSubmit:M,children:[(0,_.jsx)(Mn,{items:j,setProductId:h,inputValue:s,onInputChange:function(n,e){return c(e)}}),(0,_.jsx)(vn,{children:(0,_.jsx)(yn,{variant:"standard",name:"weight",label:a("grams"),type:"text",title:"min 1, max 6 digits",inputProps:{inputMode:"numeric",pattern:"[0-9]{1,6}"},required:!0})}),(0,_.jsx)(Zn,{color:"primary",variant:"contained",type:"submit",children:(0,_.jsx)(jn,{})})]})},zn=t(6893),An=Z.ZP.div(dn||(dn=(0,y.Z)([""]))),Fn=function(n){var e=n.addProduct,t=n.shouldShowForm,i=n.isMobile,r=n.showMobileModal,o=n.toggleMobileModal;return(0,_.jsxs)(An,{children:[(0,_.jsx)(mn,{}),t&&!i&&(0,_.jsx)(Sn,{addProduct:e,toggleMobileModal:o}),t&&i&&r&&(0,_.jsx)(zn.o,{onClose:o,children:(0,_.jsx)(Sn,{addProduct:e,toggleMobileModal:o,isMobile:i})})]})},Bn=t(5708),Nn=t(8877),$n=function(){var n=(0,O.$)().t,e=(0,x.useState)(!1),t=(0,f.Z)(e,2),i=t[0],r=t[1],o=function(){var n=(0,N.v9)(T.cc);return(0,x.useMemo)((function(){var e=new Date(n).getTime(),t=(new Date).getTime();return e>t||(0,$.Z)(e,t)}),[n])}(),a=(0,N.v9)((function(n){return n.calendar.activeDate})),d=(0,x.useState)({}),l=(0,f.Z)(d,2),s=l[0],c=l[1],u=s.title,p=void 0===u?"":u,m=s.deleteProduct,v=void 0===m?function(){}:m,b=s.deletingInfo,w=void 0===b?{}:b,y=g.Am.useAddProductMutation(),Z=(0,f.Z)(y,1)[0],j=g.Am.useGetProductsByDateQuery(a),k=j.data,P=void 0===k?{}:k,M=j.isLoading,C=P.data,D=(C=void 0===C?{}:C).consumedProducts,I=void 0===D?[]:D,S=function(){return r(!i)},z=K()(),V=(0,f.Z)(z,2),H=V[0],q=V[1].width<768,L=(0,Bn.s)(),X=(0,f.Z)(L,2),G=X[0],R=X[1];return(0,_.jsxs)(h.qm,{children:[H,(0,_.jsxs)(B,{children:[(0,_.jsx)(Fn,{addProduct:Z,shouldShowForm:o,isMobile:q,showMobileModal:G,toggleMobileModal:R}),M?(0,_.jsx)(F.$,{}):Boolean(I.length)?(0,_.jsx)(A,{products:I,currentDate:a,disabled:!o,getNotifyData:function(n){var e=n.title,t=n.deleteProduct,i=n.deletingInfo;c({title:e,deleteProduct:t,deletingInfo:i}),S()},onOpenModal:r}):(0,_.jsx)(E,{children:n("noFood")}),q&&o&&(0,_.jsx)(Zn,{color:"primary",variant:"contained",type:"button",onClick:R,children:(0,_.jsx)(jn,{})})]}),(0,_.jsx)(Nn.V,{leftBtnText:n("no"),rightBtnText:n("yes"),open:i,onClick:function(){v(w),r(!i)},setOpen:r,dialogTitle:n("delete"),contentText:p})]})},Tn=function(){return(0,_.jsxs)(h._z,{children:[(0,_.jsx)($n,{}),(0,_.jsx)(m.m,{})]})}}}]);
//# sourceMappingURL=528.a353bb28.chunk.js.map