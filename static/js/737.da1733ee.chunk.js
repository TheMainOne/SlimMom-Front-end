"use strict";(self.webpackChunkslimmom_front_end=self.webpackChunkslimmom_front_end||[]).push([[737],{7737:function(n,t,e){e.d(t,{m:function(){return X}});var i=e(885),r=e(168),a=e(7939),o=e(2791);var d=e.p+"static/media/Layer-4.a8eee669b7640dcc5a9c4e67d35fa9c6.svg";var u,l,c,s,p,x,f,h,m,g,v,y=e.p+"static/media/Layer-5.02bd20ea58ab3bc0124fa64536fa81b0.svg",b=a.ZP.div(u||(u=(0,r.Z)(["\n  font-weight: 400;\n  font-size: 14px;\n  line-height: ",";\n  color: ",";\n  background-color: ",";\n  display: flex;\n  justify-content: center;\n"])),(function(n){return n.theme.lineHeight.verdanaHeight}),(function(n){return n.theme.colors.$grey}),(function(n){return n.theme.colors.$lightGrey})),j=a.ZP.div(l||(l=(0,r.Z)(["\n  background-repeat: no-repeat;\n  padding: 40px 15px 84px 20px;\n\n  @media (min-width: 768px) {\n    width: 768px;\n    min-height: 350px;\n    display: flex;\n    justify-content: flex-start;\n    padding: 91px 10px 91px 87px;\n\n    background-size: 369px 350px;\n    background-position: 399px bottom;\n    background-image: url(",");\n  }\n\n  @media (min-width: 1280px) {\n    width: 517px;\n    min-height: 850px;\n    height: 100vh;\n    padding: 292px 0 0 106px;\n    flex-direction: column;\n    justify-content: flex-start;\n\n    background-size: 505px 815px;\n    background-position: 35px 12px;\n    background-image: url(",");\n  }\n"])),y,d),P=a.ZP.div(c||(c=(0,r.Z)(["\n  width: 285px;\n\n  @media (min-width: 768px) {\n    width: 350px;\n  }\n\n  &:first-child {\n    width: 280px;\n    margin-bottom: 40px;\n\n    @media (min-width: 768px) {\n      width: 252px;\n      margin-bottom: 0px;\n      margin-right: 60px;\n    }\n\n    @media (min-width: 1280px) {\n      width: 270px;\n      margin-bottom: 60px;\n      margin-left: 0px;\n    }\n  }\n"]))),Z=e(184),w=function(n){var t=n.children;return(0,Z.jsx)(b,{children:t})},k=function(n){var t=n.children;return(0,Z.jsx)(j,{children:t})},D=function(n){var t=n.children;return(0,Z.jsx)(P,{children:t})},M=a.ZP.th(s||(s=(0,r.Z)(["\n  text-align: left;\n  width: 150px;\n  border-right: 20px solid transparent;\n  padding-bottom: 14px;\n  font-weight: 400;\n  font-size: 14px;\n"]))),L=a.ZP.td(p||(p=(0,r.Z)(["\n  display: flex;\n  align-items: flex-start;\n  justify-content: flex-end;\n  width: 130px;\n\n  color: ",";\n"])),(function(n){return n.number?"inherit":n.theme.colors.$orange})),R=a.ZP.tr(x||(x=(0,r.Z)(["\n  &:last-child "," {\n    padding-bottom: 0px;\n  }\n"])),M),z=a.ZP.span(f||(f=(0,r.Z)(["\n  margin-left: 5px;\n  width: 27px;\n"]))),A=function(n){var t=n.data,e=n.unit,i=n.head;return(0,Z.jsxs)(R,{children:[(0,Z.jsx)(M,{children:i}),(0,Z.jsxs)(L,{number:t>=0,children:[t?String(t).padStart(3,"0"):"000",(0,Z.jsx)(z,{children:e})]})]})},E=a.ZP.table(h||(h=(0,r.Z)(["\n  border-collapse: collapse;\n"]))),G=function(n){var t=n.children;return(0,Z.jsx)(E,{children:(0,Z.jsx)("tbody",{children:t})})},C=function(n){var t=n.data,e=t.left,i=t.consumed,r=t.dailyRate,a=t.percente;return(0,Z.jsxs)(G,{children:[(0,Z.jsx)(A,{data:e,head:"Left",unit:"kcal"}),(0,Z.jsx)(A,{data:i,head:"Consumed",unit:"kcal"}),(0,Z.jsx)(A,{data:r,head:"Daily rate",unit:"kcal"}),(0,Z.jsx)(A,{data:a,head:"n% of normal",unit:"%"})]})},S=e(5048),$=e(1543),_=e(6386),q=e(8673),B=function(n){return(0,_.default)((0,q.default)(n),"yyyy/MM/dd")},F=function(n){return(0,_.default)((0,q.default)(n),"MM/dd/yyyy")},N={dailyData:{left:null,consumed:null,dailyRate:null,percente:null},bannedProducts:{}},T=function(){var n=function(){var n,t,e=$.py.useGetPrivatDailyNormaQuery().data;return{dailyRate:null===e||void 0===e||null===(n=e.results)||void 0===n?void 0:n.dailyRate,bannedProducts:null===e||void 0===e||null===(t=e.results)||void 0===t?void 0:t.bannedProducts}}(),t=n.dailyRate,e=n.bannedProducts,r=function(){var n,t=(0,S.v9)((function(n){return n.calendar.activeDate})),e=$.Am.useGetProductsByDateQuery(B(t)).data;return{consumed:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.total,date:F(t)}}(),a=r.consumed,d=r.date,u=(0,o.useState)(N),l=(0,i.Z)(u,2),c=l[0],s=l[1];return(0,o.useEffect)((function(){var n=t&&a>=0,i=n?100*a/t:null;s({dailyData:{left:n?t-a:null,consumed:a,dailyRate:t,percente:Math.round(i)},bannedProducts:e})}),[t,e,a]),[c,d]},H=function(n,t){return n.total===n.totalInBase?"\u0412\u0441\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0438 \u0438\u0437 \u0433\u0440\u0443\u043f\u044b: ".concat(t,"."):null},I=function(n,t){return n.total>n.totalInBase/2?"\u0411\u043e\u043b\u044c\u0448\u0435\u043d\u0441\u0442\u0432\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432 \u0438\u0437 \u0433\u0440\u0443\u043f\u044b: ".concat(t,"."):null},Q=function(n,t){var e=n.total,i=n.products,r=void 0===i?[]:i,a=null===r||void 0===r?void 0:r.map((function(n){return n.title.ru})).join(", ");return e<=4?"\u041d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b \u0438\u0437 \u0433\u0440\u0443\u043f\u044b: ".concat(t," (").concat(a,")."):null},O=function(n){return(t=n,t[0]=t[0][0].toUpperCase()+t[0].substring(1),t).join(", ");var t},U=a.ZP.ul(m||(m=(0,r.Z)([""]))),V=a.ZP.li(g||(g=(0,r.Z)(["\n  padding-bottom: 14px;\n\n  &:last-child {\n    padding-bottom: 0;\n  }\n"]))),Y=function(n){var t=n.productList;return(0,Z.jsx)(Z.Fragment,{children:null===t||void 0===t?void 0:t.map((function(n,t){return(0,Z.jsx)(V,{children:n},t)}))})},J=function(n){var t=n.foodList,e=(0,o.useMemo)((function(){return function(n){if(n){var t=[],e=[];return Object.keys(n).forEach((function(i){var r=H(n[i],i)||Q(n[i],i)||I(n[i],i)||null;r&&t.push(r),r||e.push(i)})),e.length>0&&t.push(O(e)),t}}(null===t||void 0===t?void 0:t.categories)}),[t]);return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(U,{children:(null===e||void 0===e?void 0:e.length)>0&&(0,Z.jsx)(Y,{productList:e})||"Your diet will be displayed here"})})},K=a.ZP.h3(v||(v=(0,r.Z)(["\n  font-family: 'Verdana';\n  font-size: 14px;\n  font-weight: 700;\n  color: ",";\n  margin-bottom: 20px;\n\n  @media (min-width: 768px) {\n    margin-bottom: 22px;\n  }\n\n  @media (min-width: 1280px) {\n    margin-bottom: 20px;\n  }\n"])),(function(n){return n.theme.colors.$black})),W=function(n){var t=n.text;return(0,Z.jsx)(K,{children:t})},X=function(){var n=T(),t=(0,i.Z)(n,2),e=t[0],r=t[1];return(0,Z.jsx)(w,{children:(0,Z.jsxs)(k,{children:[(0,Z.jsxs)(D,{children:[(0,Z.jsx)(W,{text:"Summary for ".concat(r)}),(0,Z.jsx)(C,{data:e.dailyData})]}),(0,Z.jsxs)(D,{children:[(0,Z.jsx)(W,{text:"Food not recommended"}),(0,Z.jsx)(J,{foodList:e.bannedProducts})]})]})})}},1543:function(n,t,e){e.d(t,{Am:function(){return r.A},jM:function(){return i},py:function(){return a}});var i=e(5066).baseApi.injectEndpoints({endpoints:function(n){return{getProducts:n.mutation({query:function(n){return{url:"/products/",method:"GET",params:{title:n.title,limit:n.limit}}},providesTags:["Products"]})}}}).useGetProductsMutation,r=e(1988),a=e(5066).baseApi.injectEndpoints({endpoints:function(n){return{getPrivatDailyNorma:n.query({query:function(){return"/users/daily-norma"},invalidatesTags:["PrivatDailyNorma"]})}}})}}]);
//# sourceMappingURL=737.da1733ee.chunk.js.map