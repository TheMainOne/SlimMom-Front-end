"use strict";(self.webpackChunkslimmom_front_end=self.webpackChunkslimmom_front_end||[]).push([[879],{9879:function(n,t,e){e.r(t),e.d(t,{default:function(){return gn}});var i,r,o,a,d,u,c,s,l,p=e(7737),m=e(366),h=e(885),g=e(1413),x=e(5048),f=e(9223),b=e(8558),v=e(2791),w=e(5739),y=e(6571),k=e(3540),Z=e(1161),j=e(2051),P=e.n(j),D=e(8914),C=e(184),_=function(){var n=(0,x.I0)(),t=new Date((0,x.v9)(f.cc)),e=(0,v.useState)(t),i=(0,h.Z)(e,2),r=i[0],o=i[1],a=(0,v.useCallback)((function(n){o(n)}),[]),d=P()(),u=(0,h.Z)(d,2),c=u[0],s=u[1].width<1280,l=!s;return(0,v.useEffect)((function(){var t=(0,b.Z)(r,{representation:"date"});n((0,f.GS)(t))}),[r,n]),(0,C.jsxs)(y._,{dateAdapter:w.Z,children:[c,l&&(0,C.jsx)(k.$,{label:"Date desktop",inputFormat:"dd.MM.yyyy",value:r,onChange:a,renderInput:function(n){return(0,C.jsx)(D.Z,(0,g.Z)({},n))}}),s&&(0,C.jsx)(Z.O,{label:"Date mobile",inputFormat:"dd.MM.yyyy",value:r,onChange:a,renderInput:function(n){return(0,C.jsx)(D.Z,(0,g.Z)({},n))}})]})},I=function(){return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(_,{}),(0,C.jsx)("ul",{})]})},M=(0,v.memo)(I),F=e(1543),A=e(9823),S=e(168),q=e(7939),z=q.ZP.button(i||(i=(0,S.Z)(["\n  display: flex;\n  margin-bottom: ",";\n  padding-top: ",";\n  padding-bottom: ",";\n  padding-right: ",";\n  padding-left: ",";\n  background-color: transparent;\n  border: none;\n  border-radius: 50%;\n  box-shadow: none;\n  outline: none;\n  color: ",";\n  cursor: pointer;\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:active {\n    background-color: ",";\n    color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n  }\n\n  & .css-i4bv87-MuiSvgIcon-root {\n    width: 18px;\n    height: 18px;\n  }\n  @media (min-width: ",") {\n    margin-bottom: ",";\n    & .css-i4bv87-MuiSvgIcon-root {\n      width: 20px;\n      height: 20px;\n    }\n  }\n"])),(function(n){return(0,n.theme.spacing)(1)}),(function(n){return(0,n.theme.spacing)(1)}),(function(n){return(0,n.theme.spacing)(1)}),(function(n){return(0,n.theme.spacing)(1)}),(function(n){return(0,n.theme.spacing)(1)}),(function(n){return n.theme.colors.$grey}),(function(n){return n.theme.colors.$lightGrey}),(function(n){return n.theme.colors.$orange}),(function(n){return n.theme.colors.$white}),(function(n){return n.theme.colors.$lightGrey}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return(0,n.theme.spacing)(2)})),E=function(n){var t=n.type,e=void 0===t?"button":t,i=n.icon,r=n.onClick,o=void 0===r?function(){}:r,a=n.position,d=n.disabled;return(0,C.jsx)(z,{type:e,onClick:o,disabled:d,position:a,children:i})},$=q.ZP.li(r||(r=(0,S.Z)(["\n  display: flex;\n"]))),N=q.ZP.div(o||(o=(0,S.Z)(["\n  padding-top: ",";\n  padding-bottom: ",";\n  border-bottom: 1px solid ",";\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  &:not(:first-child) {\n    text-align: right;\n  }\n\n  &:first-child {\n    width: 130px;\n    margin-right: 8px;\n\n    @media (min-width: ",") {\n      width: 240px;\n      margin-right: 22px;\n    }\n  }\n\n  &:nth-child(2) {\n    width: 49px;\n    margin-right: 8px;\n    @media (min-width: ",") {\n      width: 106px;\n      margin-right: 46px;\n    }\n\n    @media (min-width: ",") {\n      width: 106px;\n      margin-right: 48px;\n    }\n  }\n\n  &:nth-child(3) {\n    width: 65px;\n    /* margin-right: 13px; */\n    @media (min-width: ",") {\n      width: 106px;\n      margin-right: 26px;\n    }\n  }\n\n  @media (min-width: ",") {\n    padding-top: ",";\n    padding-bottom: ",";\n  }\n"])),(function(n){return(0,n.theme.spacing)(5)}),(function(n){return(0,n.theme.spacing)(2)}),(function(n){return n.theme.colors.borderColor}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return(0,n.theme.spacing)(6)}),(function(n){return(0,n.theme.spacing)(5)})),O=q.ZP.span(a||(a=(0,S.Z)(["\n  margin-right: ",";\n"])),(function(n){return(0,n.theme.spacing)(1)})),B=q.ZP.span(d||(d=(0,S.Z)(["\n  font-size: 10px;\n\n  @media (min-width: ",") {\n    font-size: 14px;\n  }\n"])),(function(n){return n.theme.breakpoints.tablet})),G=q.ZP.div(u||(u=(0,S.Z)(["\n  display: flex;\n  align-items: flex-end;\n"]))),T=function(n){var t=n.title,e=n.weight,i=n.kcal,r=n.currentDate,o=n.productId,a=n.disabled,d=F.Am.useDeleteProductFromDateMutation(),u=(0,h.Z)(d,2),c=u[0],s=u[1].isLoading,l=s||(a||!1);return(0,C.jsxs)($,{children:[(0,C.jsx)(N,{title:t,children:t}),(0,C.jsxs)(N,{children:[(0,C.jsx)(O,{children:e}),(0,C.jsx)(B,{children:"g"})]}),(0,C.jsxs)(N,{children:[(0,C.jsx)(O,{children:i}),(0,C.jsx)(B,{children:"kcal"})]}),(0,C.jsx)(G,{children:(0,C.jsx)(E,{type:"button",icon:(0,C.jsx)(A.Z,{}),onClick:function(){return c({currentDate:r,productId:o})},disabled:l})})]})},V=q.ZP.ul(c||(c=(0,S.Z)(["\n  //Scrollbar variables\n  --mask-height: 20px;\n  --padding-right: 40px;\n  --mask-image-content: linear-gradient(\n    to bottom,\n    white var(--mask-height),\n    white calc(100% - var(--mask-height)),\n    transparent\n  );\n  --mask-size-content: calc(100% - var(--scrollbar-width));\n  //end variables\n\n  display: flex;\n  flex-direction: column;\n  width: 300px;\n  height: 250px;\n  margin-top: ",";\n  margin-right: 5%;\n  font-size: 14px;\n  overflow-y: auto;\n\n  ::-webkit-scrollbar {\n    width: 6px;\n  }\n\n  ::-webkit-scrollbar-track {\n    background: ",";\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: ",";\n  }\n\n  mask-size: var(--mask-size-content);\n  mask-image: var(--mask-image-content);\n  mask-position: bottom 50px;\n  mask-repeat: no-repeat;\n\n  @media (min-width: 768px) {\n    width: 610px;\n    height: 244px;\n    padding-right: 32px;\n    margin-right: 0;\n  }\n\n  @media (min-width: 1280px) {\n    width: 623px;\n    height: 271px;\n  }\n"])),(function(n){return(0,n.theme.spacing)(8)}),(function(n){return n.theme.colors.$lightGrey}),(function(n){return n.theme.colors.$blue})),L=function(n){var t=n.products,e=n.currentDate,i=n.disabled;return(0,C.jsx)(V,{children:t.map((function(n){var t=n._id,r=n.title.ua,o=n.weight,a=n.kcal;return(0,C.jsx)(T,{title:r,weight:o,kcal:a,currentDate:e,productId:t,disabled:i},t)}))})},W=e(4165),H=e(5861),R=e(5985),K=q.ZP.form.withConfig({displayName:"DiaryAddProductFormstyled__DiaryAddProductFormStyled",componentId:"sc-1ghxj2p-0"})(["display:flex;flex-direction:column;gap:32px;align-items:center;@media screen and (min-width:","){flex-direction:row;align-items:center;gap:40px;}@media screen and (min-width:","){gap:60px;}"],(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop})),Q=q.ZP.div.withConfig({displayName:"DiaryAddProductFormstyled__FlexWrapper",componentId:"sc-1ghxj2p-1"})(["display:flex;flex-direction:column;gap:4px;"]),J=e(7630),U=e(6151),X=e(5763),Y=(0,J.ZP)(D.Z)({"& ":{minWidth:"240px"},"& label":{color:"#9B9FAA",fontFamily:"Verdana",fontWeight:700,fontSize:"14px",lineHeight:"1.2",letterSpacing:"0.04em"},"& label.Mui-focused":{color:"#FC842D"},"& .MuiInput-underline:before":{borderBottom:"1px solid #E0E0E0"},"& .MuiInput-underline:after":{borderBottomColor:"#FC842D"}}),nn=(0,J.ZP)(U.Z)(s||(s=(0,S.Z)(["\n  min-width: 48px;\n  height: 48px;\n  padding: 17px;\n  font-family: 'Verdana';\n\n  font-size: 14px;\n  font-weight: 700;\n  text-transform: none;\n\n  background: #fc842d;\n  border-radius: 30px;\n  box-shadow: 0 4px 10px rgba(252, 132, 45, 0.5);\n\n  &:hover {\n    background: #e76000;\n    transform: scale(1.1);\n  }\n\n  @media screen and (min-width: 768px) {\n    /* margin: 60px 0 0; */\n  }\n"]))),tn=(0,J.ZP)(X.ueT)(l||(l=(0,S.Z)([""]))),en=e(7227),rn=e(3329),on=function(n){var t=n.items,e=n.setProductId,i=n.inputValue,r=n.onInputChange;return(0,C.jsx)(en.Z,{id:"possible_products",getOptionLabel:function(n){var t,e,i;return null!==(t=(null===(e=n.title)||void 0===e?void 0:e.ua)||(null===(i=n.title)||void 0===i?void 0:i.ru))&&void 0!==t?t:""},isOptionEqualToValue:function(n,t){return n._id===t._id},options:t,sx:{width:300},noOptionsText:"Np products matches",renderOption:function(n,t){var e,i;return(0,v.createElement)(rn.Z,(0,g.Z)((0,g.Z)({component:"li"},n),{},{key:t._id}),(null===(e=t.title)||void 0===e?void 0:e.ua)||(null===(i=t.title)||void 0===i?void 0:i.ru))},renderInput:function(n){return(0,C.jsx)(D.Z,(0,g.Z)((0,g.Z)({},n),{},{label:"Enter product name"}))},onChange:function(n,t){e(null===t||void 0===t?void 0:t._id)},inputValue:i,onInputChange:r,filterOptions:function(n){return n},groupBy:function(n){var t;return null===(t=n.categories)||void 0===t?void 0:t[0]},clearOnBlur:!1,selectOnFocus:!0,handleHomeEndKeys:!0,autoHighlight:!0})},an=e(8573),dn=e.n(an),un=e(132),cn=(0,un.Ry)({weight:(0,un.Rx)().min(1,"min 1 gram").max(1e4,"max 10,000 grams").positive("expects positive number").integer("expects integer (no dot)").required("Weight required"),id:(0,un.Z_)().min(1,"id min 1 char").max(1024,"id max 1024 char").required("Product id (name) required"),date:(0,un.hT)().min(new Date(2e3,0,1),"min 2020 year").default((function(){return(0,b.Z)(new Date,{representation:"date"})}))}),sn=function(n){var t=n.addProduct,e=(0,v.useState)(""),i=(0,h.Z)(e,2),r=i[0],o=i[1],a=(0,v.useState)(""),d=(0,h.Z)(a,2),u=d[0],c=d[1],s=(0,F.jM)(),l=(0,h.Z)(s,2),p=l[0],m=l[1].data,g=(m=void 0===m?{}:m).data,w=void 0===g?[]:g,y=(0,x.v9)(f.cc),k=(0,b.Z)(y,{representation:"date"}),Z=function(){var n=(0,H.Z)((0,W.Z)().mark((function n(e){var i,r,o,a;return(0,W.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),i=e.target,r=new FormData(i),o=Number(r.get("weight").trim()),k&&u&&o){n.next=6;break}return n.abrupt("return",(0,R.Am)("Please fill date, productName and weight"));case 6:return a={date:k,id:u,weight:o},n.prev=7,n.next=10,cn.validate(a);case 10:return n.next=12,t(a);case 12:(0,R.Am)(a),i.reset(),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(7),(0,R.Am)("Not added: ".concat(n.t0.message)),console.log(n.t0);case 20:case"end":return n.stop()}}),n,null,[[7,16]])})));return function(t){return n.apply(this,arguments)}}(),j=(0,v.useMemo)((function(){return dn()(p,500)}),[p]);return(0,v.useEffect)((function(){r.length&&j({title:r,limit:10})}),[j,p,r]),(0,C.jsxs)(K,{onSubmit:Z,children:[(0,C.jsx)(on,{items:w,setProductId:c,inputValue:r,onInputChange:function(n,t){return o(t)}}),(0,C.jsx)(Q,{children:(0,C.jsx)(Y,{variant:"standard",name:"weight",label:"Grams",type:"text",title:"min 1, max 6 digits",inputProps:{inputMode:"numeric",pattern:"[0-9]{1,6}"},required:!0})}),(0,C.jsx)(nn,{color:"primary",variant:"contained",type:"submit",children:(0,C.jsx)(tn,{})})]})},ln=e(7325),pn=(q.ZP.div.withConfig({displayName:"DiaryPageContentstyled__DiaryPageContentStyled",componentId:"sc-7qo01r-0"})(["display:flex;flex-direction:column;justify-content:center;width:320px;min-height:460px;height:100%;padding:40px 20px 60px 20px;margin:0 auto;@media (min-width:","){padding:180px 32px 55px 32px;width:768px;min-height:594px;}@media (min-width:","){align-items:center;justify-content:center;width:763px;min-height:850px;padding:294px 32px 112px 32px;}"],(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop})),q.ZP.div.withConfig({displayName:"DiaryPageContentstyled__DiaryPageStyled",componentId:"sc-7qo01r-1"})(["display:flex;flex-direction:column;gap:20px;"])),mn=e(4690),hn=function(){var n=F.Am.useAddProductMutation(),t=(0,h.Z)(n,2),e=t[0],i=t[1].isLoading,r=(0,x.v9)((function(n){return n.calendar.activeDate})),o=F.Am.useGetProductsByDateQuery(r),a=o.data,d=void 0===a?{}:a,u=o.isLoading,c=d.data,s=(c=void 0===c?{}:c).consumedProducts,l=void 0===s?[]:s,p=function(){var n=(0,x.v9)(f.cc);return(0,v.useMemo)((function(){var t=new Date(n).getTime(),e=(new Date).getTime();return t>e||(0,mn.Z)(t,e)}),[n])}();return console.log(p),(0,C.jsx)(m.qm,{children:(0,C.jsxs)(pn,{children:[(0,C.jsx)(M,{}),p&&(0,C.jsx)(sn,{addProduct:e}),u||i?(0,C.jsx)(ln.$,{}):Boolean(l.length)?(0,C.jsx)(L,{products:l,currentDate:r,disabled:!p}):(0,C.jsx)("h1",{children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0432\u044b \u0435\u0449\u0451 \u043d\u0435 \u0435\u043b\u0438!"})]})})},gn=function(){return(0,C.jsxs)(m._z,{children:[(0,C.jsx)(hn,{}),(0,C.jsx)(p.m,{})]})}}}]);
//# sourceMappingURL=879.d7444d80.chunk.js.map