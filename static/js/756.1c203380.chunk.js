"use strict";(self.webpackChunkslimmom_front_end=self.webpackChunkslimmom_front_end||[]).push([[756],{5756:function(n,t,e){e.r(t),e.d(t,{default:function(){return xn}});var i,r,a=e(6564),o=e(1008),d=e(885),l=e(5066).baseApi.injectEndpoints({endpoints:function(n){return{getProducts:n.mutation({query:function(n){return{url:"/products/",method:"GET",params:{title:n.title,limit:n.limit}}},providesTags:["Products"]}),addProduct:n.mutation({query:function(n){var t=n.date;return{url:"/diary/",method:"POST",body:{id:n.id,weight:n.weight},params:{date:t}}},invalidatesTags:["Products"]})}}}),s=l.useGetProductsMutation,c=l.useAddProductMutation,u=e(1988),p=e(5048),h=e(9513),m=e.n(h),x=e(4551),f=(e(8639),e(8558)),g=e(7939),b=e(2791),v=["title","titleId"];function w(){return w=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},w.apply(this,arguments)}function y(n,t){if(null==n)return{};var e,i,r=function(n,t){if(null==n)return{};var e,i,r={},a=Object.keys(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)>=0||(r[e]=n[e]);return r}(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function j(n,t){var e=n.title,a=n.titleId,o=y(n,v);return b.createElement("svg",w({width:20,height:20,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",ref:t,"aria-labelledby":a},o),e?b.createElement("title",{id:a},e):null,i||(i=b.createElement("path",{fill:"#9B9FAA",d:"M15 9h-2v2h2V9Zm-4 0H9v2h2V9ZM7 9H5v2h2V9Z"})),r||(r=b.createElement("path",{fill:"#9B9FAA",d:"M17 2h-1V0h-2v2H6V0H4v2H3a2 2 0 0 0-1.99 2L1 18a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Zm0 16H3V7h14v11Z"})))}var k,Z,P,C,_,I,O,S=b.forwardRef(j),D=(e.p,g.ZP.input.withConfig({displayName:"DiaryDateCalendarstyled__DateInputStyled",componentId:"sc-117nxvv-0"})(["max-width:130px;font-family:",";font-size:18px;font-style:normal;font-weight:700;line-height:",";color:",";border:none;@media screen and (min-width:","){font-size:34px;max-width:220px;}"],(function(n){return n.theme.fonts.verdanaBold}),(function(n){return n.theme.lineHeight.verdanaHeight}),(function(n){return n.theme.colors.$black}),(function(n){return n.theme.breakpoints.tablet}))),E=(0,g.ZP)(S).withConfig({displayName:"DiaryDateCalendarstyled__IconCalendar",componentId:"sc-117nxvv-1"})([""]),A=g.ZP.div.withConfig({displayName:"DiaryDateCalendarstyled__CalendarWrapper",componentId:"sc-117nxvv-2"})(["display:flex;align-items:center;gap:20px;@media screen and (min-width:","){gap:30px;}.react-datepicker__input-container{width:unset;}.react-datepicker-wrapper{width:unset;}"],(function(n){return n.theme.breakpoints.tablet})),M=e(184),F=function(){var n=(0,p.I0)(),t=(0,p.v9)(x.cc);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(A,{children:[(0,M.jsx)(m(),{selected:t,onChange:function(t){var e=(0,f.Z)(t,{representation:"date"});console.log(e),n((0,x.GS)(e))},dateFormat:"dd.MM.yyyy",customInput:(0,M.jsx)(D,{maxLength:"10"})}),(0,M.jsx)(E,{})]}),(0,M.jsx)("ul",{})]})},V=e(168),H=g.ZP.li(k||(k=(0,V.Z)(["\n  display: flex;\n  justify-content: space-between;\n"]))),T=g.ZP.div(Z||(Z=(0,V.Z)(["\n  padding-top: ",";\n  padding-bottom: ",";\n  border-bottom: 1px solid ",";\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  &:not(:first-child) {\n    text-align: right;\n  }\n\n  &:first-child {\n    width: 130px;\n\n    @media (min-width: ",") {\n      width: 240px;\n    }\n  }\n\n  &:nth-child(2) {\n    width: 49px;\n    @media (min-width: ",") {\n      width: 106px;\n    }\n  }\n\n  &:nth-child(3) {\n    width: 58px;\n    @media (min-width: ",") {\n      width: 106px;\n    }\n  }\n\n  @media (min-width: ",") {\n    padding-top: ",";\n    padding-bottom: ",";\n  }\n"])),(function(n){return(0,n.theme.spacing)(5)}),(function(n){return(0,n.theme.spacing)(2)}),(function(n){return n.theme.colors.borderColor}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return(0,n.theme.spacing)(4)}),(function(n){return(0,n.theme.spacing)(5)})),q=g.ZP.span(P||(P=(0,V.Z)(["\n  margin-right: ",";\n"])),(function(n){return(0,n.theme.spacing)(1)})),z=g.ZP.span(C||(C=(0,V.Z)(["\n  font-size: 10px;\n\n  @media (min-width: ",") {\n    font-size: 14px;\n  }\n"])),(function(n){return n.theme.breakpoints.tablet})),B=function(n){var t=n.title,e=n.weight,i=n.kcal;return(0,M.jsxs)(H,{children:[(0,M.jsx)(T,{children:t}),(0,M.jsxs)(T,{children:[(0,M.jsx)(q,{children:e}),(0,M.jsx)(z,{children:"g"})]}),(0,M.jsxs)(T,{children:[(0,M.jsx)(q,{children:i}),(0,M.jsx)(z,{children:"kcal"})]}),(0,M.jsx)("button",{children:"X"})]})},N=g.ZP.ul(_||(_=(0,V.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 280px;\n  height: 306px;\n  margin-top: ",";\n  padding-bottom: var(--mask-height);\n  font-size: 14px;\n\n  @media (min-width: 768px) {\n    width: 610px;\n    height: 244px;\n    padding-right: 40px;\n    overflow-y: auto;\n\n    ::-webkit-scrollbar-button {\n    }\n\n    ::-webkit-scrollbar {\n      width: 6px;\n      height: 221px;\n    }\n\n    ::-webkit-scrollbar-track {\n      background: ",";\n      height: 40px;\n    }\n\n    ::-webkit-scrollbar-thumb {\n      background: ",";\n    }\n\n    /* ::-webkit-scrollbar-thumb:hover {\n      background: #555;\n    } */\n\n    //Scrollbar\n    //Scrollbar variables\n    --mask-height: 32px;\n    --padding-right: 40px;\n    --mask-image-content: linear-gradient(\n      to bottom,\n      white var(--mask-height),\n      white calc(100% - var(--mask-height)),\n      transparent\n    );\n    --mask-size-content: calc(100% - var(--scrollbar-width));\n    //end variables\n\n    mask-size: var(--mask-size-content);\n    mask-image: var(--mask-image-content);\n    mask-position: bottom 50px;\n    mask-repeat: no-repeat;\n  }\n\n  @media (min-width: 1280px) {\n    width: 623px;\n    height: 271px;\n    margin-right: ",";\n    margin-left: auto;\n  }\n"])),(function(n){return(0,n.theme.spacing)(8)}),(function(n){return n.theme.colors.$lightGrey}),(function(n){return n.theme.colors.$blue}),(function(n){return(0,n.theme.spacing)(34)})),L=function(n){var t=n.products;return(0,M.jsx)(N,{children:t.map((function(n){var t=n._id,e=n.title.ua,i=n.weight,r=n.kcal;return(0,M.jsx)(B,{title:e,weight:i,kcal:r},t)}))})},G=e(7325),R=e(2506),$=e(5206),W=g.ZP.form.withConfig({displayName:"DiaryAddProductFormstyled__DiaryAddProductFormStyled",componentId:"sc-1ghxj2p-0"})(["display:flex;flex-direction:column;gap:32px;align-items:center;@media screen and (min-width:","){flex-direction:row;align-items:center;gap:40px;}@media screen and (min-width:","){gap:60px;}"],(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop})),J=e(7630),K=e(6151),Q=e(9603),X=e(5763),U=(0,J.ZP)(Q.Z)({"& ":{minWidth:"240px"},"& label":{color:"#9B9FAA",fontFamily:"Verdana",fontWeight:700,fontSize:"14px",lineHeight:"1.2",letterSpacing:"0.04em"},"& label.Mui-focused":{color:"#FC842D"},"& .MuiInput-underline:before":{borderBottom:"1px solid #E0E0E0"},"& .MuiInput-underline:after":{borderBottomColor:"#FC842D"}}),Y=(0,J.ZP)(K.Z)(I||(I=(0,V.Z)(["\n  min-width: 48px;\n  height: 48px;\n  padding: 17px;\n  font-family: 'Verdana';\n\n  font-size: 14px;\n  font-weight: 700;\n  text-transform: none;\n\n  background: #fc842d;\n  border-radius: 30px;\n  box-shadow: 0 4px 10px rgba(252, 132, 45, 0.5);\n\n  &:hover {\n    background: #e76000;\n    transform: scale(1.1);\n  }\n\n  @media screen and (min-width: 768px) {\n    /* margin: 60px 0 0; */\n  }\n"]))),nn=(0,J.ZP)(X.ueT)(O||(O=(0,V.Z)([""]))),tn=e(1413),en=e(3767),rn=e(2409),an=e(3329),on=function(n){var t=n.name,e=n.items,i=n.title,r=n.setTitle,a=(n.onChange,n.productId,n.setSaveId);return(0,M.jsx)(en.Z,{sx:{width:300,margin:"auto"},children:(0,M.jsx)(rn.Z,{id:"possible_products",getOptionLabel:function(n){var t,e,i;return null!==(t=(null===(e=n.title)||void 0===e?void 0:e.ua)||(null===(i=n.title)||void 0===i?void 0:i.ru))&&void 0!==t?t:""},isOptionEqualToValue:function(n,t){return n._id===t._id},options:e,sx:{width:300},noOptionsText:"Np products matches",renderOption:function(n,t){var e,i;return(0,b.createElement)(an.Z,(0,tn.Z)((0,tn.Z)({component:"li"},n),{},{key:t._id}),(null===(e=t.title)||void 0===e?void 0:e.ua)||(null===(i=t.title)||void 0===i?void 0:i.ru))},renderInput:function(n){return(0,M.jsx)(Q.Z,(0,tn.Z)((0,tn.Z)({},n),{},{label:"Enter product name"}))},onChange:function(n,t){console.log({val:t}),a((function(n){return null===t||void 0===t?void 0:t._id}))},name:t,inputValue:i,onInputChange:function(n,t){return r((function(n){return t}))},filterOptions:function(n){return n},groupBy:function(n){var t;return null===(t=n.categories)||void 0===t?void 0:t[0]},clearOnBlur:"false",selectOnFocus:!0,handleHomeEndKeys:!0,autoHighlight:!0})})},dn=e(8573),ln=e.n(dn),sn=e(4929),cn=JSON.stringify,un=function(n){var t=n.addProduct,e=(0,b.useState)(""),i=(0,d.Z)(e,2),r=i[0],a=i[1],o=(0,b.useState)(""),l=(0,d.Z)(o,2),c=l[0],u=l[1],h=s(),m=(0,d.Z)(h,2),g=m[0],v=m[1].data,w=(v=void 0===v?{}:v).data,y=void 0===w?[]:w,j=(0,p.v9)(x.cc),k=(0,f.Z)(j,{representation:"date"}),Z=(0,R.TA)({initialValues:{productId:"",weight:0},validationSchema:sn.Ry({productId:sn.Z_().min(2,"Must be 2 characters or more").max(100,"Must be 100 characters or less").required("Required"),weight:sn.Z_().min(1,"min 1 char").max(7,"max 20 char").required("Required")}),onSubmit:function(n,e){var i=e.resetForm,r=n.weight;if(console.log({date:k,id:c,weight:r}),!k||!c||!r)return(0,$.Am)("Please fill all fields");var a={date:k,id:c,weight:r};t(a),(0,$.Am)("POST: ".concat(cn(a,null,2))),i()}}),P=(0,b.useMemo)((function(){return ln()(g,500)}),[g]);return(0,b.useEffect)((function(){if(!(r.length<2))return P({title:r,limit:10}),function(){}}),[P,g,r]),(0,M.jsxs)(W,{onSubmit:Z.handleSubmit,children:[(0,M.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,M.jsx)(on,{name:"productId",items:y,title:r,setTitle:a,onChange:Z.handleChange,productId:c,setSaveId:u}),(0,M.jsx)("p",{children:Z.errors.productId})]}),(0,M.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,M.jsx)(U,{variant:"standard",name:"weight",label:"weight",type:"text",minLength:1,maxLength:6,pattern:"\\d{1,6}",title:"min 1, max 6 digits",onChange:Z.handleChange,value:Z.values.weight,required:!0}),(0,M.jsx)("p",{children:Z.errors.weight})]}),(0,M.jsx)(Y,{color:"primary",variant:"contained",type:"submit",children:(0,M.jsx)(nn,{})})]})},pn=g.ZP.div.withConfig({displayName:"DiaryPageContentstyled__DiaryPageContentStyled",componentId:"sc-7qo01r-0"})(["display:flex;flex-direction:column;justify-content:center;width:320px;min-height:460px;height:100%;padding:40px 20px 60px 20px;margin:0 auto;@media (min-width:","){padding:180px 32px 55px 32px;width:768px;min-height:594px;}@media (min-width:","){align-items:center;justify-content:center;width:763px;min-height:850px;padding:294px 32px 112px 32px;}"],(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop})),hn=g.ZP.div.withConfig({displayName:"DiaryPageContentstyled__DiaryPageStyled",componentId:"sc-7qo01r-1"})(["display:flex;flex-direction:column;gap:20px;"]),mn=function(){var n=c(),t=(0,d.Z)(n,1)[0],e=u.A.useGetProductsByDateQuery("2022-07-13"),i=e.data,r=void 0===i?{}:i,a=e.isLoading,o=r.data,l=(o=void 0===o?{}:o).consumedProducts,s=void 0===l?[]:l;return(0,M.jsxs)(pn,{children:[(0,M.jsxs)(hn,{children:[(0,M.jsx)(F,{}),(0,M.jsx)(un,{addProduct:t})]}),a?(0,M.jsx)(G.$j,{}):s?(0,M.jsx)(L,{products:s}):(0,M.jsx)("h1",{children:"\u0422\u044b \u0435\u0449\u0435 \u043d\u0435 \u0435\u043b \u0441\u0435\u0433\u043e\u0434\u043d\u044f!"})]})},xn=function(){return(0,M.jsxs)(o._,{children:[(0,M.jsx)(mn,{}),(0,M.jsx)(a.m,{})]})}}}]);
//# sourceMappingURL=756.1c203380.chunk.js.map