"use strict";(self.webpackChunkslimmom_front_end=self.webpackChunkslimmom_front_end||[]).push([[305],{2305:function(n,e,t){t.r(e),t.d(e,{default:function(){return $n}});var i,r,o,a,d,l,c,s,u,p=t(7737),h=t(366),m=t(885),f=t(2791),x=t(1543),g=t(890),v=t(9823),b=t(541),w=t(168),Z=t(7939),y=t(5473),j=Z.ZP.li(i||(i=(0,w.Z)(["\n  display: flex;\n  &:not(:first-child) {\n    padding-top: ",";\n  }\n"])),(function(n){return(0,n.theme.spacing)(4)})),k=Z.ZP.div(r||(r=(0,w.Z)(["\n  position: relative;\n  border-bottom: 1px solid ",";\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  &:not(:first-child) {\n    text-align: right;\n  }\n\n  &:first-child {\n    width: 130px;\n    margin-right: 8px;\n\n    @media (min-width: ",") {\n      width: 240px;\n      margin-right: 22px;\n    }\n  }\n\n  &:nth-child(2) {\n    width: 49px;\n    margin-right: 8px;\n    @media (min-width: ",") {\n      width: 106px;\n      margin-right: 46px;\n    }\n\n    @media (min-width: ",") {\n      width: 106px;\n      margin-right: 48px;\n    }\n  }\n\n  &:nth-child(3) {\n    width: 65px;\n    @media (min-width: ",") {\n      width: 106px;\n      margin-right: 26px;\n    }\n  }\n\n  @media (min-width: ",") {\n    padding-bottom: ",";\n  }\n"])),(function(n){return n.theme.colors.borderColor}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return(0,n.theme.spacing)(5)})),P=Z.ZP.span(o||(o=(0,w.Z)(["\n  margin-right: ",";\n"])),(function(n){return(0,n.theme.spacing)(1)})),C=Z.ZP.span(a||(a=(0,w.Z)(["\n  font-size: 10px;\n\n  @media (min-width: ",") {\n    font-size: 14px;\n  }\n"])),(function(n){return n.theme.breakpoints.tablet})),D=Z.ZP.div(d||(d=(0,w.Z)(["\n  display: flex;\n  align-items: flex-end;\n"]))),M=(0,Z.ZP)(y.ZP)(l||(l=(0,w.Z)(["\n  & .MuiPaper-root {\n    background-color: ",";\n  }\n\n  & .MuiTypography-root {\n    font-size: 14px;\n  }\n"])),(function(n){return n.theme.colors.$lightGrey})),I=t(184),_=function(n){var e=n.title,t=n.weight,i=n.kcal,r=n.currentDate,o=n.productId,a=n.disabled,d=n.getNotifyData,l=(0,f.useState)(null),c=(0,m.Z)(l,2),s=c[0],u=c[1],p=x.Am.useDeleteProductFromDateMutation(),h=(0,m.Z)(p,2),w=h[0],Z=h[1].isLoading,y=Z||(a||!1),_=Boolean(s),O=_?"simple-popover":void 0;return(0,I.jsxs)(j,{children:[(0,I.jsx)(k,{onClick:function(n){u(n.currentTarget)},children:e}),(0,I.jsx)(M,{id:O,open:_,anchorEl:s,onClose:function(){u(null)},anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"},children:(0,I.jsx)(g.Z,{sx:{p:1},children:e})}),(0,I.jsxs)(k,{children:[(0,I.jsx)(P,{children:t}),(0,I.jsx)(C,{children:"g"})]}),(0,I.jsxs)(k,{children:[(0,I.jsx)(P,{children:i}),(0,I.jsx)(C,{children:"kcal"})]}),(0,I.jsx)(D,{children:(0,I.jsx)(b.Z,{type:"button",icon:(0,I.jsx)(v.Z,{}),onClick:function(){d({title:e,deleteProduct:w,deletingInfo:{currentDate:r,productId:o}})},disabled:y})})]})},O=Z.ZP.ul(c||(c=(0,w.Z)(["\n  //Scrollbar variables\n  --mask-height: 40px;\n  --padding-right: 40px;\n  --mask-image-content: linear-gradient(\n    to bottom,\n    white var(--mask-height),\n    white calc(100% - var(--mask-height)),\n    transparent\n  );\n  --mask-size-content: calc(100% - var(--scrollbar-width));\n  //end variables\n\n  display: flex;\n  flex-direction: column;\n  width: 300px;\n  height: 220px;\n  margin-top: ",";\n  margin-right: 5%;\n  font-size: 14px;\n  overflow-y: auto;\n\n  ::-webkit-scrollbar {\n    width: 6px;\n  }\n\n  ::-webkit-scrollbar-track {\n    background: ",";\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: ",";\n  }\n\n  mask-size: var(--mask-size-content);\n  mask-image: var(--mask-image-content);\n  mask-position: bottom 40px;\n  mask-repeat: no-repeat;\n\n  @media (min-width: 768px) {\n    width: 610px;\n    height: 260px;\n    padding-right: 32px;\n    margin-right: 0;\n  }\n\n  @media (min-width: 1280px) {\n    width: 623px;\n    height: 306px;\n  }\n"])),(function(n){return(0,n.theme.spacing)(8)}),(function(n){return n.theme.colors.$lightGrey}),(function(n){return n.theme.colors.$blue})),S=function(n){var e=n.products,t=n.currentDate,i=n.disabled,r=n.getNotifyData,o=n.onOpenModal;return(0,I.jsx)(O,{children:e.map((function(n){var e=n._id,a=n.title.ua,d=n.weight,l=n.kcal;return(0,I.jsx)(_,{title:a,weight:d,kcal:l,currentDate:t,productId:e,disabled:i,getNotifyData:r,onOpenModa:o},e)}))})},A=t(7325),N=(Z.ZP.div.withConfig({displayName:"DiaryPageContentstyled__DiaryPageContentStyled",componentId:"sc-7qo01r-0"})(["display:flex;flex-direction:column;justify-content:center;width:320px;height:460px;height:100%;padding:40px 20px 60px 20px;margin:0 auto;@media (min-width:","){padding:180px 32px 55px 32px;width:768px;min-height:594px;}@media (min-width:","){align-items:center;justify-content:center;width:763px;min-height:850px;padding:294px 32px 112px 32px;}"],(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop})),Z.ZP.div.withConfig({displayName:"DiaryPageContentstyled__DiaryPageStyled",componentId:"sc-7qo01r-1"})(["display:flex;flex-direction:column;gap:20px;"])),T=t(5048),z=t(4690),B=t(9223),E=t(1413),F=t(8558),V=t(5739),H=t(6571),q=t(3540),L=t(2697),$=t(2051),G=t.n($),R=t(6272),W=t(3466),K=t(3400),Q=["title","titleId"];function U(){return U=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},U.apply(this,arguments)}function X(n,e){if(null==n)return{};var t,i,r=function(n,e){if(null==n)return{};var t,i,r={},o=Object.keys(n);for(i=0;i<o.length;i++)t=o[i],e.indexOf(t)>=0||(r[t]=n[t]);return r}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)t=o[i],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function J(n,e){var t=n.title,i=n.titleId,r=X(n,Q);return f.createElement("svg",U({width:20,height:20,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",ref:e,"aria-labelledby":i},r),t?f.createElement("title",{id:i},t):null,s||(s=f.createElement("path",{fill:"#9B9FAA",d:"M15 9h-2v2h2V9Zm-4 0H9v2h2V9ZM7 9H5v2h2V9Z"})),u||(u=f.createElement("path",{fill:"#9B9FAA",d:"M17 2h-1V0h-2v2H6V0H4v2H3a2 2 0 0 0-1.99 2L1 18a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Zm0 16H3V7h14v11Z"})))}var Y,nn,en,tn,rn,on,an,dn=f.forwardRef(J),ln=(t.p,Z.ZP.input.withConfig({displayName:"DiaryDateCalendarstyled__DateInputStyled",componentId:"sc-117nxvv-0"})(["max-width:130px;font-family:",";font-size:18px;font-style:normal;font-weight:700;line-height:",";color:",";border:none;@media screen and (min-width:","){font-size:34px;max-width:220px;}"],(function(n){return n.theme.fonts.verdanaBold}),(function(n){return n.theme.lineHeight.verdanaHeight}),(function(n){return n.theme.colors.$black}),(function(n){return n.theme.breakpoints.tablet})),(0,Z.ZP)(dn).withConfig({displayName:"DiaryDateCalendarstyled__IconCalendar",componentId:"sc-117nxvv-1"})([""])),cn=Z.ZP.div.withConfig({displayName:"DiaryDateCalendarstyled__CalendarWrapper",componentId:"sc-117nxvv-2"})(["display:flex;align-items:center;max-width:160;@media screen and (min-width:","){max-width:300px;}.react-datepicker__input-container{width:unset;}.react-datepicker-wrapper{width:unset;}"],(function(n){return n.theme.breakpoints.tablet})),sn=function(){var n=(0,T.I0)(),e=new Date((0,T.v9)(B.cc)),t=(0,f.useState)(e),i=(0,m.Z)(t,2),r=i[0],o=i[1],a=(0,f.useState)(!1),d=(0,m.Z)(a,2),l=d[0],c=d[1],s=function(){return c((function(n){return!n}))},u=(0,f.useCallback)((function(n){o(n)}),[]),p=G()(),h=(0,m.Z)(p,2),x=h[0],g=h[1].width<1280,v=!g;return(0,f.useEffect)((function(){var e=(0,F.Z)(r,{representation:"date"});n((0,B.GS)(e))}),[r,n]),(0,I.jsx)(cn,{children:(0,I.jsxs)(H._,{dateAdapter:V.Z,children:[x,v&&(0,I.jsx)(q.$,{inputFormat:"dd.MM.yyyy",value:r,onChange:u,open:l,onOpen:s,onClose:s,renderInput:function(n){return(0,I.jsx)(R.Z,(0,E.Z)((0,E.Z)({variant:"standard"},n),{},{InputProps:{endAdornment:(0,I.jsx)(W.Z,{position:"end",children:(0,I.jsx)(K.Z,{edge:"end",onClick:s,children:(0,I.jsx)(ln,{})})})}}))}}),g&&(0,I.jsx)(L.O,{inputFormat:"dd.MM.yyyy",value:r,onChange:u,open:l,onOpen:s,onClose:s,renderInput:function(n){return(0,I.jsx)(R.Z,(0,E.Z)((0,E.Z)({variant:"standard"},n),{},{InputProps:{endAdornment:(0,I.jsx)(W.Z,{position:"end",children:(0,I.jsx)(K.Z,{edge:"end",onClick:s,children:(0,I.jsx)(ln,{})})})}}))}})]})})},un=function(){return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(sn,{}),(0,I.jsx)("ul",{})]})},pn=(0,f.memo)(un),hn=t(4165),mn=t(5861),fn=t(5985),xn=Z.ZP.form.withConfig({displayName:"DiaryAddProductFormstyled__DiaryAddProductFormStyled",componentId:"sc-1ghxj2p-0"})(["display:flex;flex-direction:column;gap:32px;align-items:center;@media screen and (min-width:","){flex-direction:row;align-items:center;gap:40px;}@media screen and (min-width:","){gap:60px;}"],(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop})),gn=Z.ZP.div.withConfig({displayName:"DiaryAddProductFormstyled__FlexWrapper",componentId:"sc-1ghxj2p-1"})(["display:flex;flex-direction:column;gap:4px;"]),vn=t(6151),bn=t(5763),wn=(0,Z.ZP)(R.Z)(Y||(Y=(0,w.Z)(["\n  & {\n    // marginBottom: '20px',\n    min-width: 240px;\n  }\n\n  & label {\n    color: #9b9faa;\n    font-family: ",";\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 1.2;\n    letter-spacing: 0.04em;\n  }\n\n  & label.Mui-focused {\n    color: #fc842d;\n  }\n\n  & .MuiInput-underline:before {\n    border-bottom: 1px solid #e0e0e0;\n  }\n\n  & .MuiInput-underline:after {\n    border-bottom-color: #fc842d;\n  }\n"])),(function(n){return n.theme.fonts.verdanaBold})),Zn=(0,Z.ZP)(vn.Z)(nn||(nn=(0,w.Z)(["\n  && {\n    align-self: center;\n\n    min-width: 48px;\n    height: 48px;\n    padding: 17px;\n\n    font-family: ",";\n    font-size: 14px;\n    font-weight: 700;\n    text-transform: none;\n\n    background: #fc842d;\n    border-radius: 30px;\n    box-shadow: 0 4px 10px rgba(252, 132, 45, 0.5);\n\n    &:hover {\n      background: #e76000;\n      transform: scale(1.1);\n    }\n\n    @media screen and (min-width: 768px) {\n      /* margin: 60px 0 0; */\n    }\n  }\n"])),(function(n){return n.theme.fonts.verdanaBold})),yn=(0,Z.ZP)(bn.ueT)(en||(en=(0,w.Z)([""]))),jn=t(7227),kn=t(3329),Pn=function(n){var e=n.items,t=n.setProductId,i=n.inputValue,r=n.onInputChange,o=e.map((function(n){var e=n.title.ua[0].toUpperCase();return(0,E.Z)({firstLetter:/[0-9]/.test(e)?"0-9":e},n)}));return(0,I.jsx)(jn.Z,{id:"possible_products",getOptionLabel:function(n){var e,t,i;return null!==(e=(null===(t=n.title)||void 0===t?void 0:t.ua)||(null===(i=n.title)||void 0===i?void 0:i.ru))&&void 0!==e?e:""},isOptionEqualToValue:function(n,e){return n._id===e._id},options:null===o||void 0===o?void 0:o.sort((function(n,e){var t;return-(null===(t=e.firstLetter)||void 0===t?void 0:t.localeCompare(n.firstLetter))})),sx:{width:300},noOptionsText:"No products matches",renderOption:function(n,e){var t,i;return(0,f.createElement)(kn.Z,(0,E.Z)((0,E.Z)({component:"li"},n),{},{key:e._id}),(null===(t=e.title)||void 0===t?void 0:t.ua)||(null===(i=e.title)||void 0===i?void 0:i.ru))},renderInput:function(n){return(0,I.jsx)(R.Z,(0,E.Z)((0,E.Z)({variant:"standard"},n),{},{label:"Enter product name"}))},onChange:function(n,e){t(null===e||void 0===e?void 0:e._id)},inputValue:i,onInputChange:r,filterOptions:function(n){return n},groupBy:function(n){return n.firstLetter},clearOnBlur:!1,selectOnFocus:!0,handleHomeEndKeys:!0,autoHighlight:!0})},Cn=t(8573),Dn=t.n(Cn),Mn=t(7942),In=(0,Mn.Ry)({weight:(0,Mn.Rx)().min(1,"min 1 gram").max(1e4,"max 10,000 grams").positive("expects positive number").integer("expects integer (no dot)").required("Weight required"),id:(0,Mn.Z_)().min(1,"id min 1 char").max(1024,"id max 1024 char").required("Product id (name) required"),date:(0,Mn.hT)().min(new Date(2e3,0,1),"min 2020 year").default((function(){return(0,F.Z)(new Date,{representation:"date"})}))}),_n=function(){},On=function(n){var e=n.addProduct,t=n.toggleModal,i=void 0===t?_n:t,r=n.isMobile,o=void 0!==r&&r,a=(0,f.useState)(""),d=(0,m.Z)(a,2),l=d[0],c=d[1],s=(0,f.useState)(""),u=(0,m.Z)(s,2),p=u[0],h=u[1],g=(0,x.jM)(),v=(0,m.Z)(g,2),b=v[0],w=v[1].data,Z=(w=void 0===w?{}:w).data,y=void 0===Z?[]:Z,j=(0,T.v9)(B.cc),k=(0,F.Z)(j,{representation:"date"}),P=function(){var n=(0,mn.Z)((0,hn.Z)().mark((function n(t){var r,a,d,l;return(0,hn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),r=t.target,a=new FormData(r),d=Number(a.get("weight").trim()),k&&p&&d){n.next=6;break}return n.abrupt("return",(0,fn.Am)("Please fill date, productName and weight"));case 6:return l={date:k,id:p,weight:d},n.prev=7,n.next=10,In.validate(l);case 10:return n.next=12,e(l);case 12:(0,fn.Am)(l),r.reset(),o&&i(),n.next=21;break;case 17:n.prev=17,n.t0=n.catch(7),(0,fn.Am)("Not added: ".concat(n.t0.message)),console.log(n.t0);case 21:case"end":return n.stop()}}),n,null,[[7,17]])})));return function(e){return n.apply(this,arguments)}}(),C=(0,f.useMemo)((function(){return Dn()(b,500)}),[b]);return(0,f.useEffect)((function(){l.length&&C({title:l,limit:10})}),[C,b,l]),(0,I.jsxs)(xn,{onSubmit:P,children:[(0,I.jsx)(Pn,{items:y,setProductId:h,inputValue:l,onInputChange:function(n,e){return c(e)}}),(0,I.jsx)(gn,{children:(0,I.jsx)(wn,{variant:"standard",name:"weight",label:"Grams",type:"text",title:"min 1, max 6 digits",inputProps:{inputMode:"numeric",pattern:"[0-9]{1,6}"},required:!0})}),(0,I.jsx)(Zn,{color:"primary",variant:"contained",type:"submit",children:(0,I.jsx)(yn,{})})]})},Sn=t(5708),An=t(4164),Nn=t(3895),Tn=t(4373),zn=((0,Z.ZP)(Tn.iXN)(tn||(tn=(0,w.Z)([""]))),Z.ZP.div(rn||(rn=(0,w.Z)(["\n  position: fixed;\n  top: calc(122px);\n  left: 0;\n  width: 100%;\n  height: calc(100% - 122px);\n\n  background-color: ",";\n"])),(function(n){var e=n.theme;return n.isTransparent?"transparent ":e.colors.$white}))),Bn=Z.ZP.div(on||(on=(0,w.Z)(["\n  padding: 20px;\n  background-color: ",";\n"])),(function(n){return n.theme.colors.$white})),En=(0,Nn.H)().mobileModalRoot,Fn=function(n){var e=n.onClose,t=n.children;(0,Sn.oS)();var i=(0,f.useState)(!1),r=(0,m.Z)(i,2),o=r[0],a=r[1],d=(0,f.useCallback)((function(){return a((function(n){return!n}))}),[]);return(0,Sn.Dj)(e),(0,An.createPortal)((0,I.jsx)(zn,{isTransparent:o,draggable:!0,onTouchEnd:d,onTouchStart:d,onDragStart:d,onDragEnd:d,children:(0,I.jsx)(Bn,{children:t})}),En)},Vn=Z.ZP.div(an||(an=(0,w.Z)([""]))),Hn=function(n){var e=n.addProduct,t=n.shouldShowForm,i=n.isMobile,r=n.showMobileModal,o=n.toggleModal;return(0,I.jsxs)(Vn,{children:[(0,I.jsx)(pn,{}),t&&!i&&(0,I.jsx)(On,{addProduct:e,toggleModal:o,isMobile:i}),t&&i&&r&&(0,I.jsx)(Fn,{onClose:o,children:(0,I.jsx)(On,{addProduct:e,toggleModal:o})})]})},qn=t(8877),Ln=function(){var n=(0,f.useState)(!1),e=(0,m.Z)(n,2),t=e[0],i=e[1],r=function(){var n=(0,T.v9)(B.cc);return(0,f.useMemo)((function(){var e=new Date(n).getTime(),t=(new Date).getTime();return e>t||(0,z.Z)(e,t)}),[n])}(),o=(0,T.v9)((function(n){return n.calendar.activeDate})),a=(0,f.useState)({}),d=(0,m.Z)(a,2),l=d[0],c=d[1],s=l.title,u=void 0===s?"":s,p=l.deleteProduct,g=void 0===p?function(){}:p,v=l.deletingInfo,b=void 0===v?{}:v,w=x.Am.useAddProductMutation(),Z=(0,m.Z)(w,1)[0],y=x.Am.useGetProductsByDateQuery(o),j=y.data,k=void 0===j?{}:j,P=y.isLoading,C=k.data,D=(C=void 0===C?{}:C).consumedProducts,M=void 0===D?[]:D,_=function(){return i(!t)},O=G()(),E=(0,m.Z)(O,2),F=E[0],V=E[1].width<768,H=(0,Sn.s)(),q=(0,m.Z)(H,2),L=q[0],$=q[1];return(0,I.jsxs)(h.qm,{children:[F,(0,I.jsxs)(N,{children:[(0,I.jsx)(Hn,{addProduct:Z,shouldShowForm:r,isMobile:V,showMobileModal:L,toggleMobileModal:$}),P?(0,I.jsx)(A.$,{}):Boolean(M.length)?(0,I.jsx)(S,{products:M,currentDate:o,disabled:!r,getNotifyData:function(n){var e=n.title,t=n.deleteProduct,i=n.deletingInfo;c({title:e,deleteProduct:t,deletingInfo:i}),_()},onOpenModal:i}):(0,I.jsx)("h1",{children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0432\u044b \u0435\u0449\u0451 \u043d\u0435 \u0435\u043b\u0438!"}),V&&r&&(0,I.jsx)(Zn,{color:"primary",variant:"contained",type:"button",onClick:$,children:(0,I.jsx)(yn,{})})]}),(0,I.jsx)(qn.V,{leftBtnText:"\u041d\u0456 \u043d\u0435 \u0445\u043e\u0447\u0443!",rightBtnText:"\u0422\u0430\u043a, \u0445\u043e\u0447\u0443!",open:t,onClick:function(){g(b),i(!t)},setOpen:i,dialogTitle:"\u0412\u0438 \u0434\u0456\u0439\u0441\u043d\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0446\u0435\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0442?",contentText:u})]})},$n=function(){return(0,I.jsxs)(h._z,{children:[(0,I.jsx)(Ln,{}),(0,I.jsx)(p.m,{})]})}}}]);
//# sourceMappingURL=305.a682a8fa.chunk.js.map