"use strict";(self.webpackChunkslimmom_front_end=self.webpackChunkslimmom_front_end||[]).push([[879],{9879:function(n,t,e){e.r(t),e.d(t,{default:function(){return wn}});var i,r,o,a,d,u,c,l,s,p,h=e(7737),m=e(366),g=e(885),x=e(2791),f=e(5048),b=e(1543),v=e(7325),w=e(1413),y=e(9223),Z=e(8558),k=e(5739),j=e(6571),P=e(3540),D=e(2697),C=e(2051),I=e.n(C),_=e(6272),M=e(184),S=function(){var n=(0,f.I0)(),t=new Date((0,f.v9)(y.cc)),e=(0,x.useState)(t),i=(0,g.Z)(e,2),r=i[0],o=i[1],a=(0,x.useCallback)((function(n){o(n)}),[]),d=I()(),u=(0,g.Z)(d,2),c=u[0],l=u[1].width<1280,s=!l;return(0,x.useEffect)((function(){var t=(0,Z.Z)(r,{representation:"date"});n((0,y.GS)(t))}),[r,n]),(0,M.jsxs)(j._,{dateAdapter:k.Z,children:[c,s&&(0,M.jsx)(P.$,{label:"Date desktop",inputFormat:"dd.MM.yyyy",value:r,onChange:a,renderInput:function(n){return(0,M.jsx)(_.Z,(0,w.Z)({},n))}}),l&&(0,M.jsx)(D.O,{label:"Date mobile",inputFormat:"dd.MM.yyyy",value:r,onChange:a,renderInput:function(n){return(0,M.jsx)(_.Z,(0,w.Z)({},n))}})]})},F=function(){return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(S,{}),(0,M.jsx)("ul",{})]})},O=(0,x.memo)(F),A=e(4690),z=e(4165),N=e(5861),T=e(5985),B=e(7939),E=B.ZP.form.withConfig({displayName:"DiaryAddProductFormstyled__DiaryAddProductFormStyled",componentId:"sc-1ghxj2p-0"})(["display:flex;flex-direction:column;gap:32px;align-items:center;@media screen and (min-width:","){flex-direction:row;align-items:center;gap:40px;}@media screen and (min-width:","){gap:60px;}"],(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop})),$=B.ZP.div.withConfig({displayName:"DiaryAddProductFormstyled__FlexWrapper",componentId:"sc-1ghxj2p-1"})(["display:flex;flex-direction:column;gap:4px;"]),q=e(168),G=e(7630),V=e(6151),W=e(5763),H=(0,G.ZP)(_.Z)({"& ":{minWidth:"240px"},"& label":{color:"#9B9FAA",fontFamily:"Verdana",fontWeight:700,fontSize:"14px",lineHeight:"1.2",letterSpacing:"0.04em"},"& label.Mui-focused":{color:"#FC842D"},"& .MuiInput-underline:before":{borderBottom:"1px solid #E0E0E0"},"& .MuiInput-underline:after":{borderBottomColor:"#FC842D"}}),L=(0,G.ZP)(V.Z)(i||(i=(0,q.Z)(["\n  min-width: 48px;\n  height: 48px;\n  padding: 17px;\n  font-family: 'Verdana';\n\n  font-size: 14px;\n  font-weight: 700;\n  text-transform: none;\n\n  background: #fc842d;\n  border-radius: 30px;\n  box-shadow: 0 4px 10px rgba(252, 132, 45, 0.5);\n\n  &:hover {\n    background: #e76000;\n    transform: scale(1.1);\n  }\n\n  @media screen and (min-width: 768px) {\n    /* margin: 60px 0 0; */\n  }\n"]))),R=(0,G.ZP)(W.ueT)(r||(r=(0,q.Z)([""]))),K=e(7227),Q=e(3329),J=function(n){var t=n.items,e=n.setProductId,i=n.inputValue,r=n.onInputChange;return(0,M.jsx)(K.Z,{id:"possible_products",getOptionLabel:function(n){var t,e,i;return null!==(t=(null===(e=n.title)||void 0===e?void 0:e.ua)||(null===(i=n.title)||void 0===i?void 0:i.ru))&&void 0!==t?t:""},isOptionEqualToValue:function(n,t){return n._id===t._id},options:t,sx:{width:300},noOptionsText:"Np products matches",renderOption:function(n,t){var e,i;return(0,x.createElement)(Q.Z,(0,w.Z)((0,w.Z)({component:"li"},n),{},{key:t._id}),(null===(e=t.title)||void 0===e?void 0:e.ua)||(null===(i=t.title)||void 0===i?void 0:i.ru))},renderInput:function(n){return(0,M.jsx)(_.Z,(0,w.Z)((0,w.Z)({},n),{},{label:"Enter product name"}))},onChange:function(n,t){e(null===t||void 0===t?void 0:t._id)},inputValue:i,onInputChange:r,filterOptions:function(n){return n},groupBy:function(n){var t;return null===(t=n.categories)||void 0===t?void 0:t[0]},clearOnBlur:!1,selectOnFocus:!0,handleHomeEndKeys:!0,autoHighlight:!0})},U=e(8573),X=e.n(U),Y=e(132),nn=(0,Y.Ry)({weight:(0,Y.Rx)().min(1,"min 1 gram").max(1e4,"max 10,000 grams").positive("expects positive number").integer("expects integer (no dot)").required("Weight required"),id:(0,Y.Z_)().min(1,"id min 1 char").max(1024,"id max 1024 char").required("Product id (name) required"),date:(0,Y.hT)().min(new Date(2e3,0,1),"min 2020 year").default((function(){return(0,Z.Z)(new Date,{representation:"date"})}))}),tn=function(n){var t=n.addProduct,e=(0,x.useState)(""),i=(0,g.Z)(e,2),r=i[0],o=i[1],a=(0,x.useState)(""),d=(0,g.Z)(a,2),u=d[0],c=d[1],l=(0,b.jM)(),s=(0,g.Z)(l,2),p=s[0],h=s[1].data,m=(h=void 0===h?{}:h).data,v=void 0===m?[]:m,w=(0,f.v9)(y.cc),k=(0,Z.Z)(w,{representation:"date"}),j=function(){var n=(0,N.Z)((0,z.Z)().mark((function n(e){var i,r,o,a;return(0,z.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),i=e.target,r=new FormData(i),o=Number(r.get("weight").trim()),k&&u&&o){n.next=6;break}return n.abrupt("return",(0,T.Am)("Please fill date, productName and weight"));case 6:return a={date:k,id:u,weight:o},n.prev=7,n.next=10,nn.validate(a);case 10:return n.next=12,t(a);case 12:(0,T.Am)(a),i.reset(),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(7),(0,T.Am)("Not added: ".concat(n.t0.message)),console.log(n.t0);case 20:case"end":return n.stop()}}),n,null,[[7,16]])})));return function(t){return n.apply(this,arguments)}}(),P=(0,x.useMemo)((function(){return X()(p,500)}),[p]);return(0,x.useEffect)((function(){r.length&&P({title:r,limit:10})}),[P,p,r]),(0,M.jsxs)(E,{onSubmit:j,children:[(0,M.jsx)(J,{items:v,setProductId:c,inputValue:r,onInputChange:function(n,t){return o(t)}}),(0,M.jsx)($,{children:(0,M.jsx)(H,{variant:"standard",name:"weight",label:"Grams",type:"text",title:"min 1, max 6 digits",inputProps:{inputMode:"numeric",pattern:"[0-9]{1,6}"},required:!0})}),(0,M.jsx)(L,{color:"primary",variant:"contained",type:"submit",children:(0,M.jsx)(R,{})})]})},en=e(890),rn=e(9823),on=B.ZP.button(o||(o=(0,q.Z)(["\n  display: flex;\n  margin-bottom: ",";\n  padding-top: ",";\n  padding-bottom: ",";\n  padding-right: ",";\n  padding-left: ",";\n  background-color: transparent;\n  border: none;\n  border-radius: 50%;\n  box-shadow: none;\n  outline: none;\n  color: ",";\n  cursor: pointer;\n\n  /* & svg,\n  & svg path {\n    pointer-events: none;\n  } */\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:active {\n    background-color: ",";\n    color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n  }\n\n  & .css-i4bv87-MuiSvgIcon-root {\n    width: 18px;\n    height: 18px;\n  }\n  @media (min-width: ",") {\n    margin-bottom: ",";\n    & .css-i4bv87-MuiSvgIcon-root {\n      width: 20px;\n      height: 20px;\n    }\n  }\n"])),(function(n){return(0,n.theme.spacing)(1)}),(function(n){return(0,n.theme.spacing)(1)}),(function(n){return(0,n.theme.spacing)(1)}),(function(n){return(0,n.theme.spacing)(1)}),(function(n){return(0,n.theme.spacing)(1)}),(function(n){return n.theme.colors.$grey}),(function(n){return n.theme.colors.$lightGrey}),(function(n){return n.theme.colors.$orange}),(function(n){return n.theme.colors.$white}),(function(n){return n.theme.colors.$lightGrey}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return(0,n.theme.spacing)(2)})),an=function(n){var t=n.type,e=void 0===t?"button":t,i=n.icon,r=n.onClick,o=void 0===r?function(){}:r,a=n.position,d=n.disabled;return(0,M.jsx)(on,{type:e,onClick:o,disabled:d,position:a,children:i})},dn=e(5473),un=B.ZP.li(a||(a=(0,q.Z)(["\n  display: flex;\n  &:not(:first-child) {\n    padding-top: ",";\n  }\n"])),(function(n){return(0,n.theme.spacing)(4)})),cn=B.ZP.div(d||(d=(0,q.Z)(["\n  position: relative;\n  border-bottom: 1px solid ",";\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  &:not(:first-child) {\n    text-align: right;\n  }\n\n  &:first-child {\n    width: 130px;\n    margin-right: 8px;\n\n    @media (min-width: ",") {\n      width: 240px;\n      margin-right: 22px;\n    }\n  }\n\n  &:nth-child(2) {\n    width: 49px;\n    margin-right: 8px;\n    @media (min-width: ",") {\n      width: 106px;\n      margin-right: 46px;\n    }\n\n    @media (min-width: ",") {\n      width: 106px;\n      margin-right: 48px;\n    }\n  }\n\n  &:nth-child(3) {\n    width: 65px;\n    @media (min-width: ",") {\n      width: 106px;\n      margin-right: 26px;\n    }\n  }\n\n  @media (min-width: ",") {\n    padding-bottom: ",";\n  }\n"])),(function(n){return n.theme.colors.borderColor}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return(0,n.theme.spacing)(5)})),ln=B.ZP.span(u||(u=(0,q.Z)(["\n  margin-right: ",";\n"])),(function(n){return(0,n.theme.spacing)(1)})),sn=B.ZP.span(c||(c=(0,q.Z)(["\n  font-size: 10px;\n\n  @media (min-width: ",") {\n    font-size: 14px;\n  }\n"])),(function(n){return n.theme.breakpoints.tablet})),pn=B.ZP.div(l||(l=(0,q.Z)(["\n  display: flex;\n  align-items: flex-end;\n"]))),hn=(0,B.ZP)(dn.ZP)(s||(s=(0,q.Z)(["\n  & .MuiPaper-root {\n    background-color: ",";\n  }\n\n  & .MuiTypography-root {\n    font-size: 14px;\n  }\n"])),(function(n){return n.theme.colors.$lightGrey})),mn=function(n){var t=n.title,e=n.weight,i=n.kcal,r=n.currentDate,o=n.productId,a=n.disabled,d=n.getNotifyData,u=(0,x.useState)(null),c=(0,g.Z)(u,2),l=c[0],s=c[1],p=b.Am.useDeleteProductFromDateMutation(),h=(0,g.Z)(p,2),m=h[0],f=h[1].isLoading,v=f||(a||!1),w=Boolean(l),y=w?"simple-popover":void 0;return(0,M.jsxs)(un,{children:[(0,M.jsx)(cn,{onClick:function(n){s(n.currentTarget)},children:t}),(0,M.jsx)(hn,{id:y,open:w,anchorEl:l,onClose:function(){s(null)},anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"},children:(0,M.jsx)(en.Z,{sx:{p:1},children:t})}),(0,M.jsxs)(cn,{children:[(0,M.jsx)(ln,{children:e}),(0,M.jsx)(sn,{children:"g"})]}),(0,M.jsxs)(cn,{children:[(0,M.jsx)(ln,{children:i}),(0,M.jsx)(sn,{children:"kcal"})]}),(0,M.jsx)(pn,{children:(0,M.jsx)(an,{type:"button",icon:(0,M.jsx)(rn.Z,{}),onClick:function(){d({title:t,deleteProduct:m,deletingInfo:{currentDate:r,productId:o}})},disabled:v})})]})},gn=B.ZP.ul(p||(p=(0,q.Z)(["\n  //Scrollbar variables\n  --mask-height: 40px;\n  --padding-right: 40px;\n  --mask-image-content: linear-gradient(\n    to bottom,\n    white var(--mask-height),\n    white calc(100% - var(--mask-height)),\n    transparent\n  );\n  --mask-size-content: calc(100% - var(--scrollbar-width));\n  //end variables\n\n  display: flex;\n  flex-direction: column;\n  width: 300px;\n  height: 220px;\n  margin-top: ",";\n  margin-right: 5%;\n  font-size: 14px;\n  overflow-y: auto;\n\n  ::-webkit-scrollbar {\n    width: 6px;\n  }\n\n  ::-webkit-scrollbar-track {\n    background: ",";\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: ",";\n  }\n\n  mask-size: var(--mask-size-content);\n  mask-image: var(--mask-image-content);\n  mask-position: bottom 40px;\n  mask-repeat: no-repeat;\n\n  @media (min-width: 768px) {\n    width: 610px;\n    height: 260px;\n    padding-right: 32px;\n    margin-right: 0;\n  }\n\n  @media (min-width: 1280px) {\n    width: 623px;\n    height: 306px;\n  }\n"])),(function(n){return(0,n.theme.spacing)(8)}),(function(n){return n.theme.colors.$lightGrey}),(function(n){return n.theme.colors.$blue})),xn=function(n){var t=n.products,e=n.currentDate,i=n.disabled,r=n.getNotifyData,o=n.onOpenModal;return(0,M.jsx)(gn,{children:t.map((function(n){var t=n._id,a=n.title.ua,d=n.weight,u=n.kcal;return(0,M.jsx)(mn,{title:a,weight:d,kcal:u,currentDate:e,productId:t,disabled:i,getNotifyData:r,onOpenModa:o},t)}))})},fn=e(8877),bn=(B.ZP.div.withConfig({displayName:"DiaryPageContentstyled__DiaryPageContentStyled",componentId:"sc-7qo01r-0"})(["display:flex;flex-direction:column;justify-content:center;width:320px;min-height:460px;height:100%;padding:40px 20px 60px 20px;margin:0 auto;@media (min-width:","){padding:180px 32px 55px 32px;width:768px;min-height:594px;}@media (min-width:","){align-items:center;justify-content:center;width:763px;min-height:850px;padding:294px 32px 112px 32px;}"],(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop})),B.ZP.div.withConfig({displayName:"DiaryPageContentstyled__DiaryPageStyled",componentId:"sc-7qo01r-1"})(["display:flex;flex-direction:column;gap:20px;"])),vn=function(){var n=(0,x.useState)(!1),t=(0,g.Z)(n,2),e=t[0],i=t[1],r=function(){var n=(0,f.v9)(y.cc);return(0,x.useMemo)((function(){var t=new Date(n).getTime(),e=(new Date).getTime();return t>e||(0,A.Z)(t,e)}),[n])}(),o=(0,f.v9)((function(n){return n.calendar.activeDate})),a=(0,x.useState)({}),d=(0,g.Z)(a,2),u=d[0],c=d[1],l=u.title,s=void 0===l?"":l,p=u.deleteProduct,h=void 0===p?function(){}:p,w=u.deletingInfo,Z=void 0===w?{}:w,k=b.Am.useAddProductMutation(),j=(0,g.Z)(k,1)[0],P=b.Am.useGetProductsByDateQuery(o),D=P.data,C=void 0===D?{}:D,I=P.isLoading,_=C.data,S=(_=void 0===_?{}:_).consumedProducts,F=void 0===S?[]:S,z=function(){return i(!e)};return(0,M.jsxs)(m.qm,{children:[(0,M.jsxs)(bn,{children:[(0,M.jsx)(O,{}),r&&(0,M.jsx)(tn,{addProduct:j}),I?(0,M.jsx)(v.$,{}):Boolean(F.length)?(0,M.jsx)(xn,{products:F,currentDate:o,disabled:!r,getNotifyData:function(n){var t=n.title,e=n.deleteProduct,i=n.deletingInfo;c({title:t,deleteProduct:e,deletingInfo:i}),z()},onOpenModal:i}):(0,M.jsx)("h1",{children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0432\u044b \u0435\u0449\u0451 \u043d\u0435 \u0435\u043b\u0438!"})]}),(0,M.jsx)(fn.V,{leftBtnText:"\u041d\u0456 \u043d\u0435 \u0445\u043e\u0447\u0443!",rightBtnText:"\u0422\u0430\u043a, \u0445\u043e\u0447\u0443!",open:e,onClick:function(){h(Z),i(!e)},setOpen:i,dialogTitle:"\u0412\u0438 \u0434\u0456\u0439\u0441\u043d\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0446\u0435\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0442?",contentText:s})]})},wn=function(){return(0,M.jsxs)(m._z,{children:[(0,M.jsx)(vn,{}),(0,M.jsx)(h.m,{})]})}}}]);
//# sourceMappingURL=879.f8c9d8ed.chunk.js.map