"use strict";(self.webpackChunkslimmom_front_end=self.webpackChunkslimmom_front_end||[]).push([[54],{6893:function(n,e,t){t.d(e,{o:function(){return s}});var i=t(5708),r=t(4164),o=t(3895),a=t(1642),d=t(184),l=(0,o.H)().mobileModalRoot,s=function(n){var e=n.onClose,t=n.children;return(0,i.oS)(),(0,i.Dj)(e),(0,r.createPortal)((0,d.jsx)(a.hZ,{children:(0,d.jsx)(a.dX,{children:t})}),l)}},2054:function(n,e,t){t.r(e),t.d(e,{default:function(){return En}});var i,r,o,a,d,l,s,c,u,p,m=t(7737),h=t(366),f=t(885),x=t(2791),g=t(1543),v=t(890),b=t(9823),w=t(541),y=t(168),Z=t(7939),j=t(5473),k=Z.ZP.li(i||(i=(0,y.Z)(["\n  display: flex;\n  &:not(:first-child) {\n    padding-top: ",";\n  }\n"])),(function(n){return(0,n.theme.spacing)(4)})),P=Z.ZP.div(r||(r=(0,y.Z)(["\n  position: relative;\n  border-bottom: 1px solid ",";\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  &:not(:first-child) {\n    text-align: right;\n  }\n\n  &:first-child {\n    width: 130px;\n    margin-right: 8px;\n\n    @media (min-width: ",") {\n      width: 240px;\n      margin-right: 22px;\n    }\n  }\n\n  &:nth-child(2) {\n    width: 49px;\n    margin-right: 8px;\n    @media (min-width: ",") {\n      width: 106px;\n      margin-right: 46px;\n    }\n\n    @media (min-width: ",") {\n      width: 106px;\n      margin-right: 48px;\n    }\n  }\n\n  &:nth-child(3) {\n    width: 65px;\n    @media (min-width: ",") {\n      width: 106px;\n      margin-right: 26px;\n    }\n  }\n\n  @media (min-width: ",") {\n    padding-bottom: ",";\n  }\n"])),(function(n){return n.theme.colors.borderColor}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.tablet}),(function(n){return(0,n.theme.spacing)(5)})),C=Z.ZP.span(o||(o=(0,y.Z)(["\n  margin-right: ",";\n"])),(function(n){return(0,n.theme.spacing)(1)})),M=Z.ZP.span(a||(a=(0,y.Z)(["\n  font-size: 10px;\n\n  @media (min-width: ",") {\n    font-size: 14px;\n  }\n"])),(function(n){return n.theme.breakpoints.tablet})),D=Z.ZP.div(d||(d=(0,y.Z)(["\n  display: flex;\n  align-items: flex-end;\n  margin-bottom: ",";\n"])),(function(n){return(0,n.theme.spacing)(1)})),I=(0,Z.ZP)(j.ZP)(l||(l=(0,y.Z)(["\n  & .MuiPaper-root {\n    background-color: ",";\n  }\n\n  & .MuiTypography-root {\n    font-size: 14px;\n  }\n"])),(function(n){return n.theme.colors.$lightGrey})),O=t(184),_=function(n){var e=n.title,t=n.weight,i=n.kcal,r=n.currentDate,o=n.productId,a=n.disabled,d=n.getNotifyData,l=(0,x.useState)(null),s=(0,f.Z)(l,2),c=s[0],u=s[1],p=g.Am.useDeleteProductFromDateMutation(),m=(0,f.Z)(p,2),h=m[0],y=m[1].isLoading,Z=y||(a||!1),j=Boolean(c),_=j?"simple-popover":void 0;return(0,O.jsxs)(k,{children:[(0,O.jsx)(P,{onClick:function(n){u(n.currentTarget)},children:e}),(0,O.jsx)(I,{id:_,open:j,anchorEl:c,onClose:function(){u(null)},anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"},children:(0,O.jsx)(v.Z,{sx:{p:1},children:e})}),(0,O.jsxs)(P,{children:[(0,O.jsx)(C,{children:t}),(0,O.jsx)(M,{children:"g"})]}),(0,O.jsxs)(P,{children:[(0,O.jsx)(C,{children:i}),(0,O.jsx)(M,{children:"kcal"})]}),(0,O.jsx)(D,{children:(0,O.jsx)(w.Z,{icon:(0,O.jsx)(b.Z,{}),onClick:function(){d({title:e,deleteProduct:h,deletingInfo:{currentDate:r,productId:o}})},disabled:Z,iconColor:"$grey",hoverIconColor:"$grey"})})]})},S=Z.ZP.ul(s||(s=(0,y.Z)(["\n  //Scrollbar variables\n  --mask-height: 40px;\n  --padding-right: 40px;\n  --mask-image-content: linear-gradient(\n    to bottom,\n    white var(--mask-height),\n    white calc(100% - var(--mask-height)),\n    transparent\n  );\n  --mask-size-content: calc(100% - var(--scrollbar-width));\n  //end variables\n\n  display: flex;\n  flex-direction: column;\n  width: 300px;\n  height: 220px;\n  margin-top: ",";\n  margin-right: 5%;\n  font-size: 14px;\n  overflow-y: auto;\n\n  ::-webkit-scrollbar {\n    width: 6px;\n  }\n\n  ::-webkit-scrollbar-track {\n    background: ",";\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: ",";\n  }\n\n  mask-size: var(--mask-size-content);\n  mask-image: var(--mask-image-content);\n  mask-position: bottom 40px;\n  mask-repeat: no-repeat;\n\n  @media (min-width: 768px) {\n    width: 610px;\n    height: 260px;\n    padding-right: 32px;\n    margin-right: 0;\n  }\n\n  @media (min-width: 1280px) {\n    width: 623px;\n    height: 306px;\n  }\n"])),(function(n){return(0,n.theme.spacing)(8)}),(function(n){return n.theme.colors.$lightGrey}),(function(n){return n.theme.colors.$blue})),z=function(n){var e=n.products,t=n.currentDate,i=n.disabled,r=n.getNotifyData,o=n.onOpenModal;return(0,O.jsx)(S,{children:e.map((function(n){var e=n._id,a=n.title.ua,d=n.weight,l=n.kcal;return(0,O.jsx)(_,{title:a,weight:d,kcal:l,currentDate:t,productId:e,disabled:i,getNotifyData:r,onOpenModa:o},e)}))})},A=t(7325),N=(Z.ZP.div.withConfig({displayName:"DiaryPageContentstyled__DiaryPageContentStyled",componentId:"sc-7qo01r-0"})(["display:flex;flex-direction:column;justify-content:center;width:320px;height:460px;height:100%;padding:40px 20px 60px 20px;margin:0 auto;@media (min-width:","){padding:180px 32px 55px 32px;width:768px;min-height:594px;}@media (min-width:","){align-items:center;justify-content:center;width:763px;min-height:850px;padding:294px 32px 112px 32px;}"],(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop})),Z.ZP.div.withConfig({displayName:"DiaryPageContentstyled__DiaryPageStyled",componentId:"sc-7qo01r-1"})(["display:flex;flex-direction:column;gap:20px;"])),B=t(5048),F=t(4690),E=t(7582),T=Z.ZP.p(c||(c=(0,y.Z)(["\n  position: relative;\n  margin-top: 20px;\n  font-weight: 700;\n  font-size: 18px;\n  animation-name: appearence;\n  animation-duration: ",";\n  animation-timing-function: ",";\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 6px;\n    height: 100%;\n    background-color: ",";\n    opacity: 0.5;\n    transform: translateX(-50px) skewX(-45deg);\n    animation-name: blink;\n    animation-duration: 750ms;\n    animation-timing-function: ease-out;\n    animation-delay: 500ms;\n  }\n\n  @keyframes blink {\n    from {\n      transform: translateX(-50px) skewX(-45deg);\n    }\n\n    to {\n      transform: translateX(5000%) skewX(-45deg);\n    }\n  }\n\n  @keyframes appearence {\n    from {\n      font-size: 0px;\n      margin-top: 0px;\n    }\n\n    to {\n      opacity: 1;\n      font-size: 18px;\n      margin-top: 20px;\n    }\n  }\n"])),(function(n){return n.theme.options.time}),(function(n){return n.theme.options.cubic}),(function(n){return n.theme.colors.$white})),V=function(){return(0,O.jsx)(T,{children:"\u0412\u0430\u0448 \u0441\u043f\u0438\u0441\u043e\u043a \u0437\u0430 \u0446\u0435\u0439 \u0434\u0435\u043d\u044c \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u0439!"})},H=t(1413),q=t(8558),$=t(5739),L=t(6571),X=t(3540),G=t(2697),R=t(2051),W=t.n(R),K=t(6272),Q=t(3466),U=t(3400),J=["title","titleId"];function Y(){return Y=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Y.apply(this,arguments)}function nn(n,e){if(null==n)return{};var t,i,r=function(n,e){if(null==n)return{};var t,i,r={},o=Object.keys(n);for(i=0;i<o.length;i++)t=o[i],e.indexOf(t)>=0||(r[t]=n[t]);return r}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)t=o[i],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function en(n,e){var t=n.title,i=n.titleId,r=nn(n,J);return x.createElement("svg",Y({width:20,height:20,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",ref:e,"aria-labelledby":i},r),t?x.createElement("title",{id:i},t):null,u||(u=x.createElement("path",{fill:"#9B9FAA",d:"M15 9h-2v2h2V9Zm-4 0H9v2h2V9ZM7 9H5v2h2V9Z"})),p||(p=x.createElement("path",{fill:"#9B9FAA",d:"M17 2h-1V0h-2v2H6V0H4v2H3a2 2 0 0 0-1.99 2L1 18a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Zm0 16H3V7h14v11Z"})))}var tn,rn,on,an,dn=x.forwardRef(en),ln=(t.p,Z.ZP.input.withConfig({displayName:"DiaryDateCalendarstyled__DateInputStyled",componentId:"sc-117nxvv-0"})(["max-width:130px;font-family:",";font-size:18px;font-style:normal;font-weight:700;line-height:",";color:",";border:none;@media screen and (min-width:","){font-size:34px;max-width:220px;}"],(function(n){return n.theme.fonts.verdanaBold}),(function(n){return n.theme.lineHeight.verdanaHeight}),(function(n){return n.theme.colors.$black}),(function(n){return n.theme.breakpoints.tablet})),(0,Z.ZP)(dn).withConfig({displayName:"DiaryDateCalendarstyled__IconCalendar",componentId:"sc-117nxvv-1"})([""])),sn=Z.ZP.div.withConfig({displayName:"DiaryDateCalendarstyled__CalendarWrapper",componentId:"sc-117nxvv-2"})(["display:flex;align-items:center;max-width:160;@media screen and (min-width:","){max-width:300px;}.react-datepicker__input-container{width:unset;}.react-datepicker-wrapper{width:unset;}"],(function(n){return n.theme.breakpoints.tablet})),cn=function(){var n=(0,B.I0)(),e=new Date((0,B.v9)(E.cc)),t=(0,x.useState)(e),i=(0,f.Z)(t,2),r=i[0],o=i[1],a=(0,x.useState)(!1),d=(0,f.Z)(a,2),l=d[0],s=d[1],c=function(){return s((function(n){return!n}))},u=(0,x.useCallback)((function(n){o(n)}),[]),p=W()(),m=(0,f.Z)(p,2),h=m[0],g=m[1].width<1280,v=!g;return(0,x.useEffect)((function(){var e=(0,q.Z)(r,{representation:"date"});n((0,E.GS)(e))}),[r,n]),(0,O.jsx)(sn,{children:(0,O.jsxs)(L._,{dateAdapter:$.Z,children:[h,v&&(0,O.jsx)(X.$,{inputFormat:"dd.MM.yyyy",value:r,onChange:u,open:l,onOpen:c,onClose:c,renderInput:function(n){return(0,O.jsx)(K.Z,(0,H.Z)((0,H.Z)({variant:"standard"},n),{},{InputProps:{endAdornment:(0,O.jsx)(Q.Z,{position:"end",children:(0,O.jsx)(U.Z,{edge:"end",onClick:c,children:(0,O.jsx)(ln,{})})})}}))}}),g&&(0,O.jsx)(G.O,{inputFormat:"dd.MM.yyyy",value:r,onChange:u,open:l,onOpen:c,onClose:c,closeOnSelect:!0,renderInput:function(n){return(0,O.jsx)(K.Z,(0,H.Z)((0,H.Z)({variant:"standard"},n),{},{InputProps:{endAdornment:(0,O.jsx)(Q.Z,{position:"end",children:(0,O.jsx)(U.Z,{edge:"end",onClick:c,children:(0,O.jsx)(ln,{})})})}}))}})]})})},un=function(){return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(cn,{}),(0,O.jsx)("ul",{})]})},pn=(0,x.memo)(un),mn=t(4165),hn=t(5861),fn=t(5985),xn=Z.ZP.form.withConfig({displayName:"DiaryAddProductFormstyled__DiaryAddProductFormStyled",componentId:"sc-1ghxj2p-0"})(["display:flex;flex-direction:column;gap:32px;align-items:center;@media screen and (min-width:","){flex-direction:row;align-items:center;gap:40px;}@media screen and (min-width:","){gap:60px;}"],(function(n){return n.theme.breakpoints.tablet}),(function(n){return n.theme.breakpoints.desktop})),gn=Z.ZP.div.withConfig({displayName:"DiaryAddProductFormstyled__FlexWrapper",componentId:"sc-1ghxj2p-1"})(["display:flex;flex-direction:column;gap:4px;"]),vn=t(6151),bn=t(5763),wn=(0,Z.ZP)(K.Z)(tn||(tn=(0,y.Z)(["\n  & {\n    // marginBottom: '20px',\n    min-width: 240px;\n  }\n\n  & label {\n    color: #9b9faa;\n    font-family: ",";\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 1.2;\n    letter-spacing: 0.04em;\n  }\n\n  & label.Mui-focused {\n    color: #fc842d;\n  }\n\n  & .MuiInput-underline:before {\n    border-bottom: 1px solid #e0e0e0;\n  }\n\n  & .MuiInput-underline:after {\n    border-bottom-color: #fc842d;\n  }\n"])),(function(n){return n.theme.fonts.verdanaBold})),yn=(0,Z.ZP)(vn.Z)(rn||(rn=(0,y.Z)(["\n  && {\n    align-self: center;\n\n    min-width: 48px;\n    height: 48px;\n    padding: 17px;\n\n    font-family: ",";\n    font-size: 14px;\n    font-weight: 700;\n    text-transform: none;\n\n    background: #fc842d;\n    border-radius: 30px;\n    box-shadow: 0 4px 10px rgba(252, 132, 45, 0.5);\n\n    &:hover {\n      background: #e76000;\n      transform: scale(1.1);\n    }\n\n    @media screen and (min-width: 768px) {\n      /* margin: 60px 0 0; */\n    }\n  }\n"])),(function(n){return n.theme.fonts.verdanaBold})),Zn=(0,Z.ZP)(bn.ueT)(on||(on=(0,y.Z)([""]))),jn=t(7227),kn=t(3329),Pn=function(n){var e=n.items,t=n.setProductId,i=n.inputValue,r=n.onInputChange,o=e.map((function(n){var e=n.title.ua[0].toUpperCase();return(0,H.Z)({firstLetter:/[0-9]/.test(e)?"0-9":e},n)}));return(0,O.jsx)(jn.Z,{id:"possible_products",getOptionLabel:function(n){var e,t,i;return null!==(e=(null===(t=n.title)||void 0===t?void 0:t.ua)||(null===(i=n.title)||void 0===i?void 0:i.ru))&&void 0!==e?e:""},isOptionEqualToValue:function(n,e){return n._id===e._id},options:null===o||void 0===o?void 0:o.sort((function(n,e){var t;return-(null===(t=e.firstLetter)||void 0===t?void 0:t.localeCompare(n.firstLetter))})),sx:{width:300},noOptionsText:"No products matches",renderOption:function(n,e){var t,i;return(0,x.createElement)(kn.Z,(0,H.Z)((0,H.Z)({component:"li"},n),{},{key:e._id}),(null===(t=e.title)||void 0===t?void 0:t.ua)||(null===(i=e.title)||void 0===i?void 0:i.ru))},renderInput:function(n){return(0,O.jsx)(K.Z,(0,H.Z)((0,H.Z)({variant:"standard"},n),{},{label:"Enter product name"}))},onChange:function(n,e){t(null===e||void 0===e?void 0:e._id)},inputValue:i,onInputChange:r,filterOptions:function(n){return n},groupBy:function(n){return n.firstLetter},clearOnBlur:!1,selectOnFocus:!0,handleHomeEndKeys:!0,autoHighlight:!0})},Cn=t(8573),Mn=t.n(Cn),Dn=t(7942),In=(0,Dn.Ry)({weight:(0,Dn.Rx)().min(1,"min 1 gram").max(1e4,"max 10,000 grams").positive("expects positive number").integer("expects integer (no dot)").required("Weight required"),id:(0,Dn.Z_)().min(1,"id min 1 char").max(1024,"id max 1024 char").required("Product id (name) required"),date:(0,Dn.hT)().min(new Date(2e3,0,1),"min 2020 year").default((function(){return(0,q.Z)(new Date,{representation:"date"})}))}),On=function(){},_n=function(n){var e=n.addProduct,t=n.toggleMobileModal,i=void 0===t?On:t,r=n.isMobile,o=void 0!==r&&r,a=(0,x.useState)(""),d=(0,f.Z)(a,2),l=d[0],s=d[1],c=(0,x.useState)(""),u=(0,f.Z)(c,2),p=u[0],m=u[1],h=(0,g.jM)(),v=(0,f.Z)(h,2),b=v[0],w=v[1].data,y=(w=void 0===w?{}:w).data,Z=void 0===y?[]:y,j=(0,B.v9)(E.cc),k=(0,q.Z)(j,{representation:"date"}),P=function(){var n=(0,hn.Z)((0,mn.Z)().mark((function n(t){var r,a,d,l;return(0,mn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),r=t.target,a=new FormData(r),d=Number(a.get("weight").trim()),k&&p&&d){n.next=6;break}return n.abrupt("return",(0,fn.Am)("Please fill date, productName and weight"));case 6:return l={date:k,id:p,weight:d},n.prev=7,n.next=10,In.validate(l);case 10:return n.next=12,e(l);case 12:(0,fn.Am)(l),r.reset(),o&&i(),n.next=21;break;case 17:n.prev=17,n.t0=n.catch(7),(0,fn.Am)("Not added: ".concat(n.t0.message)),console.log(n.t0);case 21:case"end":return n.stop()}}),n,null,[[7,17]])})));return function(e){return n.apply(this,arguments)}}(),C=(0,x.useMemo)((function(){return Mn()(b,500)}),[b]);return(0,x.useEffect)((function(){l.length&&C({title:l,limit:10})}),[C,b,l]),(0,O.jsxs)(xn,{onSubmit:P,children:[(0,O.jsx)(Pn,{items:Z,setProductId:m,inputValue:l,onInputChange:function(n,e){return s(e)}}),(0,O.jsx)(gn,{children:(0,O.jsx)(wn,{variant:"standard",name:"weight",label:"Grams",type:"text",title:"min 1, max 6 digits",inputProps:{inputMode:"numeric",pattern:"[0-9]{1,6}"},required:!0})}),(0,O.jsx)(yn,{color:"primary",variant:"contained",type:"submit",children:(0,O.jsx)(Zn,{})})]})},Sn=t(6893),zn=Z.ZP.div(an||(an=(0,y.Z)([""]))),An=function(n){var e=n.addProduct,t=n.shouldShowForm,i=n.isMobile,r=n.showMobileModal,o=n.toggleMobileModal;return(0,O.jsxs)(zn,{children:[(0,O.jsx)(pn,{}),t&&!i&&(0,O.jsx)(_n,{addProduct:e,toggleMobileModal:o}),t&&i&&r&&(0,O.jsx)(Sn.o,{onClose:o,children:(0,O.jsx)(_n,{addProduct:e,toggleMobileModal:o,isMobile:i})})]})},Nn=t(5708),Bn=t(8877),Fn=function(){var n=(0,x.useState)(!1),e=(0,f.Z)(n,2),t=e[0],i=e[1],r=function(){var n=(0,B.v9)(E.cc);return(0,x.useMemo)((function(){var e=new Date(n).getTime(),t=(new Date).getTime();return e>t||(0,F.Z)(e,t)}),[n])}(),o=(0,B.v9)((function(n){return n.calendar.activeDate})),a=(0,x.useState)({}),d=(0,f.Z)(a,2),l=d[0],s=d[1],c=l.title,u=void 0===c?"":c,p=l.deleteProduct,m=void 0===p?function(){}:p,v=l.deletingInfo,b=void 0===v?{}:v,w=g.Am.useAddProductMutation(),y=(0,f.Z)(w,1)[0],Z=g.Am.useGetProductsByDateQuery(o),j=Z.data,k=void 0===j?{}:j,P=Z.isLoading,C=k.data,M=(C=void 0===C?{}:C).consumedProducts,D=void 0===M?[]:M,I=function(){return i(!t)},_=W()(),S=(0,f.Z)(_,2),T=S[0],H=S[1].width<768,q=(0,Nn.s)(),$=(0,f.Z)(q,2),L=$[0],X=$[1];return(0,O.jsxs)(h.qm,{children:[T,(0,O.jsxs)(N,{children:[(0,O.jsx)(An,{addProduct:y,shouldShowForm:r,isMobile:H,showMobileModal:L,toggleMobileModal:X}),P?(0,O.jsx)(A.$,{}):Boolean(D.length)?(0,O.jsx)(z,{products:D,currentDate:o,disabled:!r,getNotifyData:function(n){var e=n.title,t=n.deleteProduct,i=n.deletingInfo;s({title:e,deleteProduct:t,deletingInfo:i}),I()},onOpenModal:i}):(0,O.jsx)(V,{children:"\u0412\u0430\u0448 \u0441\u043f\u0438\u0441\u043e\u043a \u0437\u0430 \u0446\u0435\u0439 \u0434\u0435\u043d\u044c \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u0439!"}),H&&r&&(0,O.jsx)(yn,{color:"primary",variant:"contained",type:"button",onClick:X,children:(0,O.jsx)(Zn,{})})]}),(0,O.jsx)(Bn.V,{leftBtnText:"\u041d\u0456 \u043d\u0435 \u0445\u043e\u0447\u0443!",rightBtnText:"\u0422\u0430\u043a, \u0445\u043e\u0447\u0443!",open:t,onClick:function(){m(b),i(!t)},setOpen:i,dialogTitle:"\u0412\u0438 \u0434\u0456\u0439\u0441\u043d\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0446\u0435\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0442?",contentText:u})]})},En=function(){return(0,O.jsxs)(h._z,{children:[(0,O.jsx)(Fn,{}),(0,O.jsx)(m.m,{})]})}}}]);
//# sourceMappingURL=54.81e56637.chunk.js.map